<!DOCTYPE html>
<html lang="zh-CN">

  
<head>
  <meta charset="utf-8">
  <meta name="author" content="董沅鑫, yuanxin.me@gmail.com" />
  <meta name="google-site-verification" content="uf2q2uGFfBBYPBlmjD4oBQOcXII5McPwQ4G2ANmkhI8" />
  
  
  
  <title>前端面试题 | 勤富人</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="前端,面试题," />
  

  <script>
    console.log('\n%c Hexo-theme-bmw v4.0 ' + '%c 🎉 https://github.com/dongyuanxin/theme-bmw 🎉\n' + '\n%c View demo online ' + '%c 🔍 https://godbmw.com/ 🔍  \n' , 'color: #fadfa3; background: #030307; padding:3px 0;', '', 'color: #fadfa3; background: #030307; padding:3px 0;', '');
  </script>

  
    <meta name="description" content="Something just like this!">
  

  

  
    <link rel="icon" href="/images/fevicon.ico">
    <link rel="apple-touch-icon" href="/images/touch-icon.png">
  

  <link href="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.css" rel="stylesheet">
  
<link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="/icon/iconfont.css">
<link rel="stylesheet" href="/css/github-markdown.css">
<link rel="stylesheet" href="/css/highlight.css">


  
<script src="/js/util.js"></script>
<script src="/js/valine.min.js"></script>


  

  
    <link href="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.js" async></script>
  

  
    <link href="https://cdn.bootcss.com/social-share.js/1.0.16/css/share.min.css" rel="stylesheet">
  
  
  <script src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js" async></script>
  
  
    <script src="//cdn.jsdelivr.net/npm/leancloud-storage@3.11.0/dist/av-min.js"></script>
  

<meta name="generator" content="Hexo 4.2.1"></head>

  <body>

    

    <div id="app">

      <div class="header-wrap">
  <header>
    <div class="site-brand">
      <div class="site-title">
        <a href="/">小灰灰</a>
      </div>
    </div>
    <nav class="site-navigation">
      <ul class="nav-menu">
      
        <li class="nav-item" data-path="/">
          
            <a 
              href="/"
              target="_self"
            >
              主页
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/archives/">
          
            <a 
              href="/archives/"
              target="_self"
            >
              归档
            </a>
          
        </li>
      
        <li class="nav-item" data-path="/tags/">
          
            <a 
              href="/tags/"
              target="_self"
            >
              标签
            </a>
          
        </li>
      
        <li class="nav-item" data-path="">
          
            <a href="javascript:void(0);" v-else>抓到我</a>
            <ul class="nav-menu--dropdown">
              
                <li>
                  <a 
                    href="https://github.com/userlvqingke" 
                    target="_blank"
                  >
                    Github
                  </a>
                </li>
              
                <li>
                  <a 
                    href="https://www.zhihu.com/people/qin-fu-ren-26" 
                    target="_blank"
                  >
                    知乎
                  </a>
                </li>
              
            </ul>
          
        </li>
      
      </ul>
    </nav>
    <i class="iconfont icon-menu"></i>
  </header>
  <div class="processBar" style="width: 0%;height: 2px;background: #007fff;"></div>
</div>

<script>
  let links = document.querySelectorAll('.nav-item');
  for(let link of links){
    let childrenLink = link.querySelector('ul');
    link.addEventListener('mouseenter', () => {
      if(childrenLink) {
        childrenLink.className = "nav-menu--dropdown active";
      }
    })
    link.addEventListener('mouseleave', () => {
      if(childrenLink) {
        childrenLink.className = "nav-menu--dropdown";
      }
    })
  }
  let rootRealPath = getRealPath(window.location.pathname, true);
  for(let link of links) {
    let linkPath = link.getAttribute("data-path");
    if(linkPath && getRealPath(linkPath, true) === rootRealPath) {
      link.className = "nav-item hover";
    }
  }

  let iconMenu = document.querySelector("i.iconfont.icon-menu"),
    iconMenuClicked = false;
  let navDOM = document.querySelector("nav.site-navigation");
  iconMenu.addEventListener("click", () => {
    iconMenuClicked 
      ? navDOM.className = "site-navigation active"
      : navDOM.className = "site-navigation";
    iconMenuClicked = !iconMenuClicked;
  })
  
</script>

      








<div class="container post-index">

  

<div class="post">
  <h1 class="article-title">
    <span>前端面试题</span>
  </h1>
  <div class="article-top-meta">
    <span>
      发布 : 
      2020-06-20
    </span>
    
    
      <span>
        浏览 : <span class="article-timer" data-identity="前端面试题"></span>
      </span>
    
  </div>

  

  <div class="article-content">
    <div class="markdown-body">
      <h3 id="写React-Vue项目时，为什么要在列表组件中写key，其作用是什么？"><a href="#写React-Vue项目时，为什么要在列表组件中写key，其作用是什么？" class="headerlink" title="写React/Vue项目时，为什么要在列表组件中写key，其作用是什么？"></a>写React/Vue项目时，为什么要在列表组件中写key，其作用是什么？</h3><p>官网推荐使用key，应该理解为使用唯一的ID作为key，因为用index作为key和不带key的效果是一样的。index作为key时，每个列表在变更前后是一样的，都是直接判断sameVnode，然后复用。<br>key的作用就是更新组件时，判断两个节点是否相同。相同就复用，不相同就删除旧的，创建新的。<br>正是因为带有唯一的key，每次更新是都找不到唯可复用的节点，不但要销毁和创建vnode，在DOM里添加移除节点对性能影响更大。所以才会说：”不带key，可能性能更好“。<br>因为不带key时，节点能够复用，省去了销毁/创建组件的开销，同时只需要修改DOM的文本内容，而不是移除/添加节点，这就是文档中所说的：”刻意依赖默认行为，以获取性能上的提升“。<br>既然如此，为什么还要建议带key呢？因为这种不带key的模式只适用于简单的无状态组件。对于大多数场景来说，列表组件都有自己的状态。</p>
<figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">举个例子：</span><br><span class="line">一个新闻列表，可以点击列表项来将其标记为已访问。可以通过<span class="built_in">tab</span>切换到”娱乐新闻“或”社会新闻“。</span><br><span class="line">不带<span class="built_in">key</span>属性的情况，在”娱乐新闻“下选中第二项，然后切换到”社会新闻“，”社会新闻“里的第二项也会是被选中的状态，因为这里复用了组件，保留了之前的状态。要解决这个问题，可以为列表项带上唯一的新闻id作为唯一的<span class="built_in">key</span>，那么每次渲染列表时，都会完全替代所有的组件，从而拥有正确的状态。</span><br></pre></td></tr></table></figure>
<p>这只是个简单的例子，实际应用汇更复杂。带上唯一的key，虽然会增加开销，但对于用户来说，基本感受不到差别，而且能保证组件状态的正确。这应该是为什么官方推荐使用唯一id作为key的原因。</p>
<h3 id="‘1’-’2’-’3’-map-parseInt"><a href="#‘1’-’2’-’3’-map-parseInt" class="headerlink" title="[‘1’,’2’,’3’].map(parseInt)"></a>[‘1’,’2’,’3’].map(parseInt)</h3><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, NaN, NaN]</span><br><span class="line">Array.prototype.map() 创建一个新数组，其结果是该数组中每个元素都调用一次提供的函数后的返回值。</span><br><span class="line">parseInt(<span class="type">string</span>, radix) 将一个字符串<span class="type">string</span>转换为radix进制的整数，radix介于<span class="number">2</span>~<span class="number">36</span>之间</span><br><span class="line">模拟运行的情况：</span><br><span class="line"><span class="number">1.</span> parseInt('<span class="number">1</span>', <span class="number">0</span>) <span class="comment">// radix为0时，且string参数不以”0x“开头，按照10进制来处理，这个时候返回1</span></span><br><span class="line"><span class="number">2.</span> parseInt('<span class="number">2</span>', <span class="number">1</span>) <span class="comment">// radix介于2~36之间，无法解析该字符串，返回NaN</span></span><br><span class="line"><span class="number">3.</span> parseInt('<span class="number">3</span>', <span class="number">2</span>) <span class="comment">// 2进制表示的数中，最大值小于3，所以无法解析，返回NaN</span></span><br></pre></td></tr></table></figure>

<h3 id="什么是防抖和节流？有什么区别？如何实现？"><a href="#什么是防抖和节流？有什么区别？如何实现？" class="headerlink" title="什么是防抖和节流？有什么区别？如何实现？"></a>什么是防抖和节流？有什么区别？如何实现？</h3><ol>
<li>防抖<blockquote>
<p>触发高频事件后n秒内函数只会执行一次，如果n秒内高频事件再次触发，则重新计算事件<br>思路：<br>每次触发事件时，都会取消掉之前的延时调用方法<br>demo：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="literal">null</span>; <span class="comment">// 创建一个标记，用来存放定时器的返回值</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    clearTimeout(timer); <span class="comment">// 把之前的timer移除</span></span><br><span class="line">    timer = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="comment">// 创建新的timeout</span></span><br><span class="line">      fn.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>)<span class="comment">// 为了确保上下文环境为当前的this，不能直接使用fn();</span></span><br><span class="line">    &#125;, <span class="number">300</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'防抖成功'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> inp = <span class="built_in">document</span>.querySelect(<span class="string">'#inp'</span>);</span><br><span class="line">inp.addEventListener(<span class="string">'input'</span>, debounce(sayHi))</span><br></pre></td></tr></table></figure></li>
<li>节流<blockquote>
<p>高频事件触发，但在n秒内只会执行一次，所以节流会稀释函数的执行频率<br>思路：<br>每次触发事件时，都判断当前是否有等待执行的延时函数<br>demo:</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> canRun = <span class="literal">true</span>; <span class="comment">// 通过闭包保存一个标记</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!canRun) &#123;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    canRun = <span class="literal">false</span>;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="comment">// 将外部传入的函数的执行放在setTimeout中</span></span><br><span class="line">      fn.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);<span class="comment">// 为了确保上下文环境为当前的this，不能直接使用fn();</span></span><br><span class="line">      canRun = <span class="literal">true</span>;<span class="comment">// 最后在setTimeout执行完毕后再把标记设置为true(关键)表示可以执行下一次循环了。当定时器没有执行的时候标记永远是false，在开头被return掉</span></span><br><span class="line">    &#125;, <span class="number">300</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e.target.innerWidth, e.target.innerHeight);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'resize'</span>, throttle(sayHi));</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="介绍下Set、Map、WeakSet和WeakMap的区别？"><a href="#介绍下Set、Map、WeakSet和WeakMap的区别？" class="headerlink" title="介绍下Set、Map、WeakSet和WeakMap的区别？"></a>介绍下Set、Map、WeakSet和WeakMap的区别？</h3><table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>Set</td>
<td>1. 成员唯一，无状态且不重复； 2. 只有键值，没有键名，类似数组； 3. 可以遍历，方法有add、has、delete</td>
</tr>
<tr>
<td>WeakSet</td>
<td>1. 成员都是对象； 2. 成员都是弱引用，可以被垃圾回收机制回收，可以用来保存DOM节点，不易造成内存泄漏； 3. 不能遍历，方法有add、has、delete</td>
</tr>
<tr>
<td>Map</td>
<td>1. 本质上是键值对集合，类似集合； 2. 可以遍历，方法很多，可以跟跟中数据类型转换</td>
</tr>
<tr>
<td>WeakMap</td>
<td>1. 只接受对象作为键名（null除外），不接受其他类型的值作为键名； 2. 键名是弱引用，键值可以是任意值，键名所指向的对象可以被垃圾回收，此时键名是无效的； 3. 不能遍历，方法有get、set、delete、has</td>
</tr>
</tbody></table>
<ol>
<li>Set<br>ES6新增的一种数据结构，类似于数组，但成员是唯一且无序的，没有重复的值。<br>Set是一种叫做集合的数据结构<br>应用场景：数据重组<br>Set本身是一个构造函数，用来生成Set数据结构<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">new Set([literable])</span><br><span class="line"><span class="keyword">const</span> s = new Set();</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>].forEach(x =&gt; s.add(x));</span><br><span class="line"><span class="keyword">for</span>(let i of s) &#123;</span><br><span class="line">  console.log(i) <span class="comment">// 1 2 3 4</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 数组去重</span></span><br><span class="line">[...new Set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>])]</span><br></pre></td></tr></table></figure>
任意数据类型都可以作为Set对象的成员<br>Set内部判断两个值是否不同，使用的算法是”same-value-zero equality“，它类似于精确相等运算符（===），不同点：Set对象认为NaN等于自身，而精确相等运算符认为NaN不等于自身。<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">set</span> = <span class="keyword">new</span> Set();</span><br><span class="line"><span class="keyword">let</span> a = NaN;</span><br><span class="line"><span class="keyword">let</span> b = NaN;</span><br><span class="line"><span class="keyword">set</span>.<span class="keyword">add</span>(a);</span><br><span class="line"><span class="keyword">set</span>.<span class="keyword">add</span>(b);</span><br><span class="line"><span class="keyword">set</span> <span class="comment">// &#123;NaN&#125;</span></span><br></pre></td></tr></table></figure>
Set实例属性<blockquote>
<p>constructor 构造函数<br>size 包含元素的数量<br>Set实例方法<br>add(value) 新增元素<br>delete(value) 存在即删除元素<br>has(value) 判断集合中是否存在value<br>clear() 清空集合中所有元素<br>Set对象与数组间的转换</p>
</blockquote>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line"><span class="keyword">const</span> set1 = new Set(arr) <span class="comment">// &#123;1, 2, 3, 4&#125;</span></span><br><span class="line">Array.<span class="keyword">from</span>(set1)  <span class="comment">// [1, 2, 3, 4]</span></span><br><span class="line">[...set1] <span class="comment">// [1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure>
遍历Set对象的方法<blockquote>
<p>keys() 返回一个集合中包含所有键的迭代器<br>values() 返回一个集合中包含所有值得迭代器<br>entries() 返回一个集合中包含所有键值对的迭代器<br>forEach(callback, thisArg) 对于集合中的成员执行callback操作，没有返回值。设置thisArg，则当前的执行上下文环境就是thisArg</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> set2 = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(set2.keys()); <span class="comment">// SetIterator &#123;1, 2, 3&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(set2.values()); <span class="comment">// SetIterator &#123;1, 2, 3&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(set2.entries()); <span class="comment">// SetIterator &#123;1 =&gt; 1, 2 =&gt; 2, 3 =&gt; 3&#125;</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">of</span> set2.entries()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(item); <span class="comment">// [1, 1] [2, 2] [3, 3]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
Set 很容易实现交集、并集、差集<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> set3 = <span class="keyword">new</span> <span class="constructor">Set([2, 3, 4])</span>;</span><br><span class="line"><span class="keyword">let</span> set4 = <span class="keyword">new</span> <span class="constructor">Set([2, 5, 4])</span>;</span><br><span class="line"><span class="keyword">let</span> intersect = <span class="keyword">new</span> <span class="constructor">Set([<span class="operator">...</span><span class="params">set4</span>].<span class="params">filter</span>(<span class="params">x</span> =&gt; <span class="params">set3</span>.<span class="params">has</span>(<span class="params">x</span>)</span>)); <span class="comment">// &#123;2, 4&#125;</span></span><br><span class="line"><span class="keyword">let</span> union = <span class="keyword">new</span> <span class="constructor">Set([<span class="operator">...</span><span class="params">set3</span>, <span class="operator">...</span><span class="params">set4</span>])</span>; <span class="comment">// &#123;2, 3, 4, 5&#125;</span></span><br><span class="line"><span class="keyword">let</span> difference = <span class="keyword">new</span> <span class="constructor">Set([<span class="operator">...</span><span class="params">set4</span>].<span class="params">filter</span>(<span class="params">x</span> =&gt; !<span class="params">set3</span>.<span class="params">has</span>(<span class="params">x</span>)</span>)); <span class="comment">// &#123;5&#125;</span></span><br></pre></td></tr></table></figure></li>
<li>WeakSet<br>WeakSet 允许将弱引用对象存到集合中<br>Set和WeakSet的区别：<blockquote>
<p>WeakSet只能存放对象，不能存其他值；而Set都可以存<br>WeakSet里存的是弱引用对象，在没有其他变量或属性引用该对象的时候，会被垃圾回收机制回收。<br>WeakSet是不可以遍历的，也就无法拿到集合中的所有元素。<br>WeakSet中的属性/方法<br>constructor 构造函数<br>add(value) 添加value<br>has(value) 是否包含value<br>delete(value) 删除value<br>clear() 清空WeakSet中所有的元素，注意该方法已废弃</p>
</blockquote>
</li>
<li>Map</li>
</ol>
<table>
<thead>
<tr>
<th>类型</th>
<th>集合与字典</th>
</tr>
</thead>
<tbody><tr>
<td>共同点</td>
<td>都可以存储不重复的值</td>
</tr>
<tr>
<td>不同点</td>
<td>集合是以[value,value]的形式存储元素，字典以[key, value]的形式存储元素</td>
</tr>
</tbody></table>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> Map();</span><br><span class="line"><span class="keyword">let</span> obj = &#123;p: <span class="string">'nihao'</span>&#125;</span><br><span class="line">m.<span class="keyword">set</span>(obj, <span class="string">'content'</span>)</span><br><span class="line">m.<span class="keyword">get</span>(obj) <span class="comment">// content</span></span><br><span class="line">m.has(obj)  <span class="comment">// true</span></span><br><span class="line">m.delete(obj) <span class="comment">// true</span></span><br><span class="line">m.has(obj)  <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>任何具有iterator接口，且每个成员都是一个双元素数组的数据结构，都可以当做Map构造函数的参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> set5 = <span class="keyword">new</span> <span class="built_in">Set</span>([[<span class="string">'foo'</span>, <span class="number">1</span>], [<span class="string">'bar'</span>, <span class="number">2</span>]]);</span><br><span class="line"><span class="keyword">let</span> map1 = <span class="keyword">new</span> <span class="built_in">Map</span>(set5);</span><br><span class="line">map1 <span class="comment">// &#123;"foo" =&gt; 1, "bar" =&gt; 2&#125;</span></span><br><span class="line">map1.get(<span class="string">'bar'</span>) <span class="comment">// 2</span></span><br><span class="line"><span class="keyword">let</span> map2 = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">'baz'</span>, <span class="number">3</span>]]);</span><br><span class="line">map2 <span class="comment">// &#123;"baz" =&gt; 3&#125;</span></span><br><span class="line">map2.get(<span class="string">'baz'</span>) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<p>注意：只有对同一个对象的引用，Map才将其视为同一个键名</p>
<figure class="highlight pony"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map3 = <span class="function"><span class="keyword">new</span> <span class="title">Map</span>();</span></span><br><span class="line"><span class="function"><span class="title">map3</span>.<span class="title">set</span>([a], <span class="number">4</span>);</span></span><br><span class="line"><span class="function"><span class="title">map</span>.<span class="title">get</span>([a]); <span class="comment">// undefined</span></span></span><br></pre></td></tr></table></figure>
<p>Map属性</p>
<blockquote>
<p>constructor 构造函数<br>size 字典中包含元素的个数</p>
</blockquote>
<p>Map操作方法</p>
<blockquote>
<p>get(key) 读取字典中键名key的数据，并返回<br>set(key, value) 向字典中添加新元素<br>delete(key) 通过键名key，移除对应的数据<br>has(key) 判断字典中是否存在键名key的数据<br>clear() 将字典中所有的元素删除</p>
</blockquote>
<p>Map遍历方法</p>
<blockquote>
<p>keys() 将字典中包含的键名以迭代器形式返回<br>values() 将字典中包含的键值以迭代器形式返回<br>entries() 返回字典中所有成员的迭代器<br>forEach(callback, thisArg) 遍历字典中所有成员</p>
</blockquote>
<figure class="highlight puppet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const map4 = new Map([[<span class="string">'name'</span>, <span class="string">'Jack'</span>], [<span class="string">'desc'</span>, <span class="string">'JS'</span>]]);</span><br><span class="line">map4 // &#123;<span class="string">"name"</span> =&gt; <span class="string">"Jack"</span>, <span class="string">"desc"</span> =&gt; <span class="string">"JS"</span>&#125;</span><br><span class="line">map4.keys() // <span class="keyword">MapIterator</span> &#123;<span class="string">"name"</span>, <span class="string">"desc"</span>&#125;</span><br><span class="line"><span class="keyword">map4</span>.values() // <span class="keyword">MapIterator</span> &#123;<span class="string">"Jack"</span>, <span class="string">"JS"</span>&#125;</span><br><span class="line"><span class="keyword">map4</span>.entries() // <span class="keyword">MapIterator</span> &#123;<span class="string">"name"</span> =&gt; <span class="string">"Jack"</span>, <span class="string">"desc"</span> =&gt; <span class="string">"JS"</span>&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>WeakMap<br>WeakMap 是一组键值对的集合，键名弱引用对象，键值是任意数据<br>弱引用对象，在没有其他变量或属性引用的情况下，会被垃圾回收机制收回。<br>不可枚举<br>WeakMap属性/方法<blockquote>
<p>constructor 构造函数<br>get(key) 读取键名key的对象，并返回<br>set(key, value) 设置一组键名key的对象<br>has(key)  判断是否包含键名key的对象，没有则返回undefined<br>delete(key) 删除键名key的对象</p>
</blockquote>
</li>
</ol>
<h3 id="常见异步笔试题，写出代码执行结果"><a href="#常见异步笔试题，写出代码执行结果" class="headerlink" title="常见异步笔试题，写出代码执行结果"></a>常见异步笔试题，写出代码执行结果</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> foo() &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'foo start'</span>);</span><br><span class="line">  <span class="keyword">await</span> bar();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'foo end'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> bar() &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'bar run'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'script start'</span>);</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'setTimeout'</span>);</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line">foo();</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  resolve(<span class="string">'promise1'</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'promise2'</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'script end'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// script start</span></span><br><span class="line"><span class="comment">// foo start</span></span><br><span class="line"><span class="comment">// bar run</span></span><br><span class="line"><span class="comment">// promise2</span></span><br><span class="line"><span class="comment">// script end</span></span><br><span class="line"><span class="comment">// foo end</span></span><br><span class="line"><span class="comment">// promise1</span></span><br><span class="line"><span class="comment">// setTimeout</span></span><br></pre></td></tr></table></figure>

<p>这道题主要考察的是事件循环中函数执行顺序，其中包括async、await、setTimeout、promise。下面说说涉及的知识点：</p>
<ol>
<li>任务队列<blockquote>
<p>JS分为同步任务和异步任务<br>同步任务都在主线程上执行，形成一个执行栈<br>主线程之外，事件触发线程管理着一个任务队列，只要异步任务有了运行结果，就在任务队列之中放置一个事件。<br>一旦执行栈中的所有同步任务执行完毕（此时JS引擎空闲），系统就会读取任务队列，将可运行的异步任务添加到可执行栈中，开始执行</p>
</blockquote>
</li>
</ol>
<p>根据规范，事件循环是通过任务队列的机制来进行协调的。一个Event Loop中可以有一个或多个任务队列（task queue），一个任务队列便是一系列有序任务（task）的集合；每个任务都有一个任务源（task source），源自统一任务源的task必须放在统一任务队列中。setTimeout/Promise等API便是任务源，进入任务队列的是他们指定的具体任务。<br><img src="../../../../image/event-loop.png" alt="Event Loop"></p>
<ol start="2">
<li>宏任务<br>(macro)task，可以理解为每次执行栈执行的代码就是一个宏任务<br>浏览器为了能够使得JS内部(macro)task和DOM任务能够有序执行，会在一个(macro)task执行结束后，在下一个(macro)task执行开始前，对页面进行重新渲染，流程如下：</li>
</ol>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">macro</span>)<span class="title">task</span></span> --&gt; 渲染 --&gt; (<span class="function"><span class="keyword">macro</span>)<span class="title">task</span></span> --&gt; 渲染 --&gt; (<span class="function"><span class="keyword">macro</span>)<span class="title">task</span></span></span><br></pre></td></tr></table></figure>
<p>主要包含：script（整体代码）、setTimeout、setInterval、possMessage、MessageChannel、I/O、UI交互事件<br>3. 微任务<br>(micro)task，可以理解是在当前task执行结束后立即执行的任务，也就是说，当前任务之后，下一个任务之前，在渲染之前执行的。<br>主要包含：Promise.then()</p>
<ol start="4">
<li>运行机制<blockquote>
<p>执行一个宏任务（执行栈中没有就从事件队列中取）<br>执行过程中，如果遇到微任务，便将微任务添加到微任务的任务队列中<br>宏任务执行完毕，立即执行微任务队列中的微任务（依次执行）<br>当前宏任务执行完毕，开始检查渲染，然后GUI线程接管渲染<br>渲染完毕，JS线程继续接管，开始下一个宏任务。</p>
</blockquote>
</li>
</ol>
<p><img src="../../../../image/event-loop-run.png" alt="Event Loop Run"></p>
<ol start="5">
<li>Promise和async中立即执行<br>Promise中的代码是立即执行的，异步体现在then和catch上。<br>async中，await之前是立即执行的，那await做了什么呢？</li>
<li>await做了什么<br>await是让出线程的标志。await后面的表达式先执行一遍，将await后面的代码加入到(micro)task中，然后就跳出了整个async函数来执行后面的代码。<br>由于async await本身就是promise+generator的语法糖。所以await后面的代码是(micro)task。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> foo() &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'foo start'</span>);</span><br><span class="line">  <span class="keyword">await</span> bar();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'foo end'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
等价于<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> foo() &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'foo start'</span>);</span><br><span class="line">  <span class="built_in">Promise</span>.resolve(bar()).then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'foo end'</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="将数组扁平化并去除其中重复数据，最终得到一个升序且不重复的数组"><a href="#将数组扁平化并去除其中重复数据，最终得到一个升序且不重复的数组" class="headerlink" title="将数组扁平化并去除其中重复数据，最终得到一个升序且不重复的数组"></a>将数组扁平化并去除其中重复数据，最终得到一个升序且不重复的数组</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr.flat(<span class="literal">Infinity</span>))).sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b)</span><br></pre></td></tr></table></figure>

<h3 id="JS异步解决方案的发展历程，及优缺点"><a href="#JS异步解决方案的发展历程，及优缺点" class="headerlink" title="JS异步解决方案的发展历程，及优缺点"></a>JS异步解决方案的发展历程，及优缺点</h3><ol>
<li>回调函数（callback）<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">setTimeout</span><span class="params">(()</span></span> =&gt; &#123;</span><br><span class="line">  <span class="comment">// callback 函数体</span></span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure>
缺点：形成回调地狱，不能使用try、catch捕捉错误，不能return<br>优点：解决了同步问题（只要有一个任务耗时很长，后面的任务都必须排队等着，会拖延整个程序的执行）<br>回调地狱形成的原因：<blockquote>
<p>缺乏顺序行：调试困难，与大脑思维方式不符<br>嵌套函数存在耦合，牵一发动全身</p>
</blockquote>
</li>
<li>Promise<br>Promise就是为了解决callback的问题而产生的<br>Promise实现了链式调用，每次then返回的都是一个全新的Promise对象，如果我们在then中return,return的结果回被Promise.resolve()包装<br>优点：解决了回调地狱的问题<br>缺点：无法取消Promise，错误需要通过回调函数来捕捉</li>
<li>Generator<br>特点：可以控制函数的执行，可以配合co数据库使用<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function *fetch() &#123;</span><br><span class="line">  <span class="keyword">yield</span> ajax(<span class="symbol">'XXX1</span>', () =&gt; &#123;&#125;);</span><br><span class="line">  <span class="keyword">yield</span> ajax(<span class="symbol">'XXX2</span>', () =&gt; &#123;&#125;);</span><br><span class="line">  <span class="keyword">yield</span> ajax(<span class="symbol">'XXX3</span>', () =&gt; &#123;&#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="function"><span class="keyword">fn</span> = <span class="title">fetch</span></span>();</span><br><span class="line"><span class="keyword">let</span> result1 = <span class="function"><span class="keyword">fn</span>.<span class="title">next</span></span>();</span><br><span class="line"><span class="keyword">let</span> result2 = <span class="function"><span class="keyword">fn</span>.<span class="title">next</span></span>();</span><br><span class="line"><span class="keyword">let</span> result3 = <span class="function"><span class="keyword">fn</span>.<span class="title">next</span></span>();</span><br></pre></td></tr></table></figure></li>
<li>Async/await<br>async/await是异步的终极解决方案<br>优点：代码清晰，不用像promise写一堆then，解决了对调地狱的问题<br>缺点：await将异步代码改造同步代码，如果多个异步操作没有依赖性而是用await会导致性能上的降低。此种情况完全可以用Promise.all();<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">async function fetch() &#123;</span><br><span class="line">  <span class="keyword">await</span> ajax(<span class="string">'xxx1'</span>, <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;)</span><br><span class="line">  <span class="keyword">await</span> ajax(<span class="string">'xxx2'</span>, <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;)</span><br><span class="line">  <span class="keyword">await</span> ajax(<span class="string">'xxx3'</span>, <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>如何实现一个new<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_new</span>(<span class="params">fn, ...arg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> obj = <span class="built_in">Object</span>.create(fn.prototype);</span><br><span class="line">  <span class="keyword">const</span> ret = fn.apply(obj, arg);</span><br><span class="line">  <span class="keyword">return</span> ret <span class="keyword">instanceof</span> <span class="built_in">Object</span> ? ret : obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> Dog = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line">Dog.prototype.sayHi = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'旺旺'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obb = _new(Dog, <span class="string">'二哈'</span>);</span><br><span class="line">obb.name <span class="comment">// '二哈'</span></span><br><span class="line">obb.sayHi() <span class="comment">// '旺旺'</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="简单讲下HTTP2的多路复用"><a href="#简单讲下HTTP2的多路复用" class="headerlink" title="简单讲下HTTP2的多路复用"></a>简单讲下HTTP2的多路复用</h3><p>简单说，就是同一个TCP连接，同一时刻可以传输多个http请求</p>
<blockquote>
<p>之前是同一个连接只能使用一次，如果开启keep-alive，虽然可以使用多次，但同一时刻只能有一个http请求<br>详细点：<br>在HTTP/1中，每次请求都会创建一个TCP连接，也就是我们常说的3次握手4次挥手。这个过程在一次请求中占用了相当长的时间，即使开启了keep-alive，解决了多次连接的问题，但依然有两个效率上的问题：<br>第一个，串行文件传输，请求a文件时，b文件只能等着。等待a连接到服务器，服务器处理文件，服务器返回文件，这三个步骤。队头阻塞问题。<br>第二个，连接数过多，并发多个请求需要多个TCP连接，浏览器为了控制资源会有6-8个限制。假设Apache设置了最大并发数为300，那么服务器能承载的最高并发为6-8个，后面的请求就需要等待前面的某个请求处理完。<br>HTTP/2的多路复用就是为了解决这两个性能问题。<br>在HTTP/2中，有两个重要的概念，分别是帧（frame）和流（stream）<br>帧代表最小的单位，每个帧会标识出属于哪个流，流也就是多个帧组成的数据流。<br>多路复用就是一个TCP连接中可以有多个数据流。<br>HTTP/2采用二进制格式传输，HTTP/1采用的是文本格式传输，二进制解析更高效。<br>同域名下所有通信都在单个连接上完成，消除了多个TCP连接带来的延迟和内存消耗<br>单连接上可以并行多个交错的请求和响应，之间互不干扰</p>
</blockquote>
<h3 id="ES5-ES6的继承除了写法以外，还有什么区别？"><a href="#ES5-ES6的继承除了写法以外，还有什么区别？" class="headerlink" title="ES5/ES6的继承除了写法以外，还有什么区别？"></a>ES5/ES6的继承除了写法以外，还有什么区别？</h3><p>// 自己测试的没有什么区别。。。莫非只是对ES5继承的一种封装</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Super</span> </span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sub</span> <span class="keyword">extends</span> <span class="title">Super</span></span>&#123;</span><br><span class="line">  constructor(...args) &#123;</span><br><span class="line">    <span class="keyword">super</span>(...args); <span class="comment">// 等价于 Super.constructor.call(this, ...args)</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">const sub = <span class="keyword">new</span> <span class="type">Sub</span>();</span><br><span class="line">sub.__proto__ === <span class="type">Super</span>;</span><br></pre></td></tr></table></figure>
<p>子类可以通过<strong>proto</strong>直接寻址到父类</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function Super () &#123;&#125;</span><br><span class="line">function Sub () &#123;&#125;</span><br><span class="line">Sub.prototype = new Super();</span><br><span class="line">Sub.prototype.constructor = Sub;</span><br><span class="line">var <span class="function"><span class="keyword">sub</span> = <span class="title">new</span> <span class="title">Sub</span></span>();</span><br><span class="line"><span class="function"><span class="keyword">sub</span>.__<span class="title">proto__</span> === <span class="title">Function</span>.<span class="title">prototype</span></span>;</span><br></pre></td></tr></table></figure>
<p>而通过ES5的方式，sub.<strong>proto</strong> === Function.prototype</p>
<h3 id="介绍下模块安装机制，为什么输入npm-install就可以自动安装对应的模块？"><a href="#介绍下模块安装机制，为什么输入npm-install就可以自动安装对应的模块？" class="headerlink" title="介绍下模块安装机制，为什么输入npm install就可以自动安装对应的模块？"></a>介绍下模块安装机制，为什么输入npm install就可以自动安装对应的模块？</h3><p>安装机制：</p>
<ol>
<li>发出<code>npm install</code>指令</li>
<li>查询node_modules目录之中是否已存在指定的模块<blockquote>
<p>若存在不在安装<br>若不存在</p>
<blockquote>
<p>npm向registry查询模块压缩包的网址<br>下载压缩包，存在根目录下.npm目录里<br>解压压缩包到当前的项目node_modules目录里</p>
</blockquote>
</blockquote>
</li>
</ol>
<h3 id="介绍下重绘和回流（Repaint-amp-Reflow），以及如何优化"><a href="#介绍下重绘和回流（Repaint-amp-Reflow），以及如何优化" class="headerlink" title="介绍下重绘和回流（Repaint &amp; Reflow），以及如何优化"></a>介绍下重绘和回流（Repaint &amp; Reflow），以及如何优化</h3><ol>
<li>浏览器渲染机制<blockquote>
<p>浏览器采用流式布局模型（Flow Based Layout）<br>浏览器会把html解析成DOM，把CSS解析成CSSOM，DOM和CSSOM合并就成了渲染树（Render Tree）<br>有了Render Tree，我们就知道所有节点的样式啦，然后计算他们在页面的大小和位置，最后把节点绘制到页面上。<br>浏览器对Render Tree的计算通常只需要遍历一遍即可完成，但table及其内部元素除外，他们可能需要计算多次，通常要花3倍于同等元素的时间，这也是为什么要避免使用table的原因之一。</p>
</blockquote>
</li>
<li>重绘<br>由于节点的样式发生改变而不影响布局，称为重绘。<br>例如：<code>color、background-color、visibility</code><br>重绘的代价昂贵，浏览器必须验证DOM上其他节点的可见性。</li>
<li>回流<br>节点的几何属性需要改变且影响了布局，称为回流。<br>回流是影响浏览器性能的关键因素，因为其变化涉及到部分页面（乃至整个页面）的布局更新。一个节点的回流，可能导致其子节点以及DOM中紧随其后的节点、祖先节点元素的回流。<br>大部分回流导致页面重新渲染。</li>
<li>重绘、回流的关系<br>回流必会发生重绘，重绘不一定发生回流。</li>
<li>浏览器优化<br>现代浏览器通过队列机制来批量更新布局，浏览器会把修改操作放到队列里，至少一个浏览器刷新（即16.6ms）才会清空队列，但当你回去布局信息的时候，队列中可能有影响布局的属性或方法返回值的操作，即使没有，浏览器也会强制清空队列，触发回流与重绘，确保返回正确的值。<br>主要包括以下信息或方法：<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> offsetTop、offsetLeft、offsetWidth、offsetHeight;</span><br><span class="line"><span class="number">2.</span> scrollTop、scrollLeft、scrollWidth、scrollHeight;</span><br><span class="line"><span class="number">3.</span> clientTop、clientLeft、clientWidth、clientHeight;</span><br><span class="line"><span class="number">4.</span> width、height</span><br><span class="line"><span class="number">5.</span> getComputedStyle()</span><br><span class="line"><span class="number">6.</span> getBoundingClientRect()</span><br></pre></td></tr></table></figure>
使用上述属性，浏览器都会强制刷新队列</li>
<li>减少回流与重绘<br>CSS<blockquote>
<p>使用visibility替换display: none，因为前者只会引起重绘，后者会引起回流<br>避免使用table布局，可能很小的一个改动，就会造成整个table的重新布局<br>尽可能在DOM树的最末端改变class，以减少回流的影响<br>避免设置多层内联样式，CSS选择符从右往左匹配查找，避免节点层级过多。<br>将动画效果应用到position为absolute、fixed元素上。避免影响其他元素的布局。同时控制动画速度，可以使用<code>requestAnimationFrame</code><br>使用GPU硬件加速<br>JS<br>避免频发操作样式，最好一次性重写style属性，或者将样式列表定义为class并一次性更改。<br>避免频发操作DOM，创建一个<code>documentFragement</code>，在它上面应用所有DOM操作，最后再把它添加到文档中。<br>避免频繁读取引起回流/重绘的属性，如果需要多次使用，就用一个变量缓存起来。</p>
</blockquote>
</li>
</ol>
<h3 id="介绍下观察者模式和订阅-发布模式的区别，各自使用场景？"><a href="#介绍下观察者模式和订阅-发布模式的区别，各自使用场景？" class="headerlink" title="介绍下观察者模式和订阅-发布模式的区别，各自使用场景？"></a>介绍下观察者模式和订阅-发布模式的区别，各自使用场景？</h3><p>可以简单理解为：<br>观察者模式：没有中间商赚差价<br>订阅-发布模式：有中间商赚差价</p>
<ol>
<li>联系<br>发布-订阅模式是观察模式的一种变体，发布-订阅模式只是将一部分功能抽象成一个独立的ChangeManager。</li>
<li>意图<br>都是某个对象（subject,publisher）改变，使依赖于它的多个对象（observers,subscribers）得到通知。</li>
<li>区别与适用场景<br>总的来说，发布-订阅模式适合更复杂的场景。<br>在「一对多」的场景下，发布者的某次更新只想通知它的部分订阅者？<br>在「多对一」或「多对多」的场景下，一个订阅者依赖于多个发布者，某个发布者更新后是否需要通知订阅者？还是所有发布者都更新完毕后，再通知订阅者？<br>这些逻辑都可以放在ChangeManager里。</li>
</ol>
<h3 id="介绍模块化发展历程"><a href="#介绍模块化发展历程" class="headerlink" title="介绍模块化发展历程"></a>介绍模块化发展历程</h3><p>模块化主要用来抽离公共代码，隔离作用域，避免变量冲突。<br>IIFE： 使用自执行函数编写模块化</p>
<blockquote>
<p>特点：在一个单独的函数作用域中执行代码，避免变量冲突<br>AMD：使用requireJS来编写模块<br>特点：依赖必须提前声明好<br>CMD：使用seaJS来编写模块<br>特点：支持动态引入依赖文件<br>CommonJS：nodejs中自带的模块化。<br>UMD：兼容AMD、CommonJS等模块化语法<br>ES Modules：ES6引入的模块化，支持import引入另一个js文件<br>接下来重点说一下CommonJS和ES Modules<br>CommonJS:<br>特点：require、exports、module.exports<br>CommonJS一般用在服务端或node用来同步加载模块，处理模块依赖发生在代码运行阶段，不适合浏览器端做异步加载。<br>exports实际上是一个对module.exports的引用：</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">exports</span>.add = <span class="string">'xxx'</span>;</span><br><span class="line">等同于</span><br><span class="line"><span class="keyword">module</span>.<span class="keyword">exports</span>.add = <span class="string">'xxx'</span></span><br></pre></td></tr></table></figure>
<p>不能直接给exports赋值，否则会断开与module.exports的连接。</p>
<p>ES6 Module</p>
<blockquote>
<p>特点：import、export<br>ES6模块化不是对象，import会在JavaScript引擎静态分析，在编译时就引入代码，而并非在代码运行时引入代码。因此也不适合异步加载。<br>在Html中如果需要引入模块，需要这样写：</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"module"</span> <span class="attr">src</span>=<span class="string">"./module.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>优势：</p>
<blockquote>
<p>死代码检查和排除，我们可以用静态分析工具检测出哪些模块没有被调用到。去掉这些不会使用到的模块，减下包的体积。<br>编译器优化，在CommonJS等动态模块系统中，无论采用哪种方式，本质上导入的都是一个对象。而ES6 Module直接导入变量，减少了引用层级，代码效率更高<br>CommonJS 与 ES6 Module的区别：<br>CommonJS在引入时是加载整个模块，是生成一个对象，然后再从这个生成的对象上读取方法和属性。<br>ES Module不是对象，而是通过export暴露的代码块，在import时使用静态命令的方法引入指定的输出代码块，并在import语句出执行这个要输出的代码，而不是直接加载整个模块<br>CommonJS引用后是一个值的拷贝<br>ES Module引用后是一个值得动态映射<br><a href="https://es6.ruanyifeng.com/#docs/module#export-%E5%91%BD%E4%BB%A4" target="_blank" rel="noopener">ES6 export/export default/import</a></p>
</blockquote>
<h3 id="js中的排序算法"><a href="#js中的排序算法" class="headerlink" title="js中的排序算法"></a>js中的排序算法</h3><p>冒泡排序<br>时间复杂度：O(n^2)</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bobbleSort1</span><span class="params">(arr)</span> &#123;</span></span><br><span class="line">  let len = arr.<span class="built_in">length</span>;</span><br><span class="line">  <span class="keyword">for</span> (let <span class="built_in">i</span> = <span class="number">0</span>; <span class="built_in">i</span> &lt; len; <span class="built_in">i</span>++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (let <span class="built_in">j</span> = <span class="number">0</span>; <span class="built_in">j</span> &lt; len - <span class="built_in">i</span> - <span class="number">1</span>; <span class="built_in">j</span>++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (arr[<span class="built_in">j</span>] &lt; arr[<span class="built_in">j</span> + <span class="number">1</span>]) &#123;</span><br><span class="line">        let temp;</span><br><span class="line">        temp = arr[<span class="built_in">j</span>];</span><br><span class="line">        arr[<span class="built_in">j</span>] = arr[<span class="built_in">j</span>+<span class="number">1</span>];</span><br><span class="line">        arr[<span class="built_in">j</span>+<span class="number">1</span>] = temp;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>快速排序<br>时间复杂度：O(nlogn)</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">quickSort</span><span class="params">(arr)</span> &#123;</span></span><br><span class="line">  <span class="keyword">if</span> (arr.<span class="built_in">length</span> &lt; <span class="number">2</span>) <span class="keyword">return</span> arr;</span><br><span class="line">  let middleIndex = Math.<span class="built_in">floor</span>(arr.<span class="built_in">length</span> / <span class="number">2</span>);</span><br><span class="line">  let middleValue = arr.splice(middleIndex, <span class="number">1</span>)[<span class="number">0</span>];</span><br><span class="line">  let left = [], right = [];</span><br><span class="line">  <span class="keyword">for</span> (let <span class="built_in">i</span> = <span class="number">0</span>; <span class="built_in">i</span> &lt; arr.<span class="built_in">length</span>; <span class="built_in">i</span>++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[<span class="built_in">i</span>] &lt; middleValue) &#123;</span><br><span class="line">      left.push(arr[<span class="built_in">i</span>]);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      right.push(arr[<span class="built_in">i</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> quickSort(left).concat(middleValue, quickSort(right))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="请把两个数组-A1-A2-B1-B2-C1-C2-D1-D2-和-A-B-C-D-，合并成-A1-A2-A-B1-B2-B-C1-C2-C-D1-D2-D"><a href="#请把两个数组-A1-A2-B1-B2-C1-C2-D1-D2-和-A-B-C-D-，合并成-A1-A2-A-B1-B2-B-C1-C2-C-D1-D2-D" class="headerlink" title="请把两个数组[A1,A2,B1,B2,C1,C2,D1,D2]和[A,B,C,D]，合并成[A1,A2,A,B1,B2,B,C1,C2,C,D1,D2,D]"></a>请把两个数组[A1,A2,B1,B2,C1,C2,D1,D2]和[A,B,C,D]，合并成[A1,A2,A,B1,B2,B,C1,C2,C,D1,D2,D]</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sort</span><span class="params">(arr1, arr2)</span> &#123;</span></span><br><span class="line">  let arr = [...arr1];</span><br><span class="line">  <span class="keyword">for</span> (let <span class="built_in">i</span> = <span class="number">0</span>; <span class="built_in">i</span> &lt; arr2.<span class="built_in">length</span>; <span class="built_in">i</span>++) &#123;</span><br><span class="line">    let temp = arr2[<span class="built_in">i</span>] + <span class="string">'2'</span>;</span><br><span class="line">    let index = arr.indexOf(temp);</span><br><span class="line">    <span class="keyword">if</span> (index &gt; <span class="number">-1</span>) &#123;</span><br><span class="line">      arr.splice(++index,<span class="number">0</span>,arr2[<span class="built_in">i</span>])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortDemo</span><span class="params">(arr1, arr2)</span> &#123;</span></span><br><span class="line">  let arr = [...arr1];</span><br><span class="line">  <span class="keyword">for</span>(let <span class="built_in">i</span> = <span class="number">0</span>; <span class="built_in">i</span> &lt; arr2.<span class="built_in">length</span>; <span class="built_in">i</span>++) &#123;</span><br><span class="line">    arr.push(arr2[<span class="built_in">i</span>]+<span class="string">'3'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  arr = arr.<span class="built_in">sort</span>().map(item =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (item.includes(<span class="string">'3'</span>)) &#123;</span><br><span class="line">      <span class="keyword">return</span> item.split(<span class="string">''</span>)[<span class="number">0</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> item;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="改造下面代码，使之输出0-9，写出你能想到的所有解法。"><a href="#改造下面代码，使之输出0-9，写出你能想到的所有解法。" class="headerlink" title="改造下面代码，使之输出0-9，写出你能想到的所有解法。"></a>改造下面代码，使之输出0-9，写出你能想到的所有解法。</h3><p>利用let特性，每次循环过程中，let会在当前的块级作用域中创建文法环境，该环境中包含当前for循环的变量i；</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(let <span class="built_in">i</span> = <span class="number">0</span>; <span class="built_in">i</span> &lt; <span class="number">10</span>; <span class="built_in">i</span>++) &#123;</span><br><span class="line">  setTimeout(()=&gt; &#123;</span><br><span class="line">    console.<span class="built_in">log</span>(<span class="built_in">i</span>)</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>利用setTimeout的第三个参数，会作为回调参数的第一个参数传入；</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(var <span class="built_in">i</span> = <span class="number">0</span>; <span class="built_in">i</span> &lt; <span class="number">10</span>; <span class="built_in">i</span>++) &#123;</span><br><span class="line">  setTimeout((<span class="built_in">i</span>) =&gt; &#123;</span><br><span class="line">    console.<span class="built_in">log</span>(<span class="built_in">i</span>)</span><br><span class="line">  &#125;, <span class="number">1000</span>, <span class="built_in">i</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>利用bind部分执行的特性；</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for(<span class="name">var</span> i = <span class="number">0</span><span class="comment">; i &lt; 10; i++) &#123;</span></span><br><span class="line">  setTimeout((<span class="name">i</span> =&gt; &#123;</span><br><span class="line">    console.log(<span class="name">i</span>)</span><br><span class="line">  &#125;).bind(<span class="name">Object</span>.create(<span class="name">null</span>), i), <span class="number">1000</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>利用函数自执行的方式，把当前for循环中的传进去，构成块级作用域。</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">for(<span class="name">var</span> i = <span class="number">0</span><span class="comment">; i &lt; 10; i++) &#123;</span></span><br><span class="line">  (<span class="name">function</span>(<span class="name">i</span>)&#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      console.log(<span class="name">i</span>)<span class="comment">;</span></span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;)(<span class="name">i</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="聊聊Redux和Vuex的设计思想"><a href="#聊聊Redux和Vuex的设计思想" class="headerlink" title="聊聊Redux和Vuex的设计思想"></a>聊聊Redux和Vuex的设计思想</h3><p>共同点：<br>首先两者都是处理全局状态的工具库，大致实现思想都是：全局state保存状态—&gt;dispatch(action)—&gt;reducer(vuex中的mutation)—&gt;生成newState;整个状态为同步操作。<br>不同点：<br>最大的区别在于处理异步的不同，vuex中多了异步commit操作，在action之后commit(mutation)之前处理异步，而redux里面通过中间件处理。<br><a href="https://zhuanlan.zhihu.com/p/53599723" target="_blank" rel="noopener">知乎Vuex和Redux</a></p>
<h3 id="执行下面代码，输出结果，解释原因"><a href="#执行下面代码，输出结果，解释原因" class="headerlink" title="执行下面代码，输出结果，解释原因"></a>执行下面代码，输出结果，解释原因</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">var</span> <span class="keyword">b </span>= <span class="number">10</span><span class="comment">;</span></span><br><span class="line">(<span class="meta">function</span> <span class="keyword">b() </span>&#123;</span><br><span class="line">  <span class="keyword">b </span>= <span class="number">20</span><span class="comment">;</span></span><br><span class="line">  console.log(<span class="keyword">b);</span></span><br><span class="line"><span class="keyword">&#125;)()</span></span><br><span class="line"><span class="keyword">// </span>输出的结果：</span><br><span class="line">ƒ <span class="keyword">b() </span>&#123;</span><br><span class="line">  <span class="keyword">b </span>= <span class="number">20</span><span class="comment">;</span></span><br><span class="line">  console.log(<span class="keyword">b)</span></span><br><span class="line"><span class="keyword">&#125;</span></span><br></pre></td></tr></table></figure>
<p>原因：<br>作用域可以理解为上下文中声明的变量和作用的范围。包括块级作用域和函数作用域、全局作用域。<br>特性：声明提前，一个声明在函数体内都是可见的，函数声明优先于变量声明。在非匿名自执行函数中，函数变量为制度状态，无法修改。</p>
<h3 id="使用迭代的方式实现flatten函数"><a href="#使用迭代的方式实现flatten函数" class="headerlink" title="使用迭代的方式实现flatten函数"></a>使用迭代的方式实现flatten函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flatten</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">while</span>(arr.some(<span class="function"><span class="params">item</span> =&gt;</span> <span class="built_in">Array</span>.isArray(item))) &#123;</span><br><span class="line">    arr = [].concat(...arr);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flatten</span></span>(arr) &#123;</span><br><span class="line">  let arrs = [...arr];</span><br><span class="line">  let <span class="keyword">new</span><span class="type">Arr</span> = [];</span><br><span class="line">  <span class="keyword">while</span>(arrs.length) &#123;</span><br><span class="line">    let item = arrs.shift();</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">Array</span>.isArray(item)) &#123;</span><br><span class="line">      arrs.unshift(...item);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">new</span><span class="type">Arr</span>.push(item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span><span class="type">Arr</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flatten</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> arrs = [];</span><br><span class="line">  arr.map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(item)) &#123;</span><br><span class="line">      arrs.push(...flatten(item));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      arrs.push(item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> arrs;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="下面程序怎么打印出1来"><a href="#下面程序怎么打印出1来" class="headerlink" title="下面程序怎么打印出1来"></a>下面程序怎么打印出1来</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var a = ?;</span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>) &#123;</span><br><span class="line">  console.log(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>考察的是==隐式类型转换，我们重写toString方法就可以了，转换时会调用对象本身的toString或valueOf方法</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var a = &#123;</span><br><span class="line">  i: <span class="number">1</span>,</span><br><span class="line">  toString() &#123;</span><br><span class="line">    <span class="keyword">return</span> a.i++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>) &#123;</span><br><span class="line">  console.log(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var a = &#123;</span><br><span class="line">  i: <span class="number">1</span>,</span><br><span class="line">  valueOf() &#123;</span><br><span class="line">    <span class="keyword">return</span> a.i++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>) &#123;</span><br><span class="line">  console.log(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">a.toString = a.shift;</span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>) &#123;</span><br><span class="line">  console.log(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="介绍下BFC及其应用"><a href="#介绍下BFC及其应用" class="headerlink" title="介绍下BFC及其应用"></a>介绍下BFC及其应用</h3><p>BFC：块级格式上下文，是页面盒模型布局中的一种css渲染方式，相当于一个独立的容器，里面的元素和外面的元素互不影响。<br>创建BFC的方式：</p>
<blockquote>
<p>html根元素<br>float浮动<br>绝对定位<br>overflow不为visible<br>display为表格布局或弹性布局<br>作用：<br>清除浮动，<br>防止同一BFC容器中相邻元素间外边距重叠</p>
</blockquote>
<h3 id="在Vue中，子组件为何不能修改父组件传进来的prop，如果修改了，Vue是如何监控到属性的修改并给出警告的？"><a href="#在Vue中，子组件为何不能修改父组件传进来的prop，如果修改了，Vue是如何监控到属性的修改并给出警告的？" class="headerlink" title="在Vue中，子组件为何不能修改父组件传进来的prop，如果修改了，Vue是如何监控到属性的修改并给出警告的？"></a>在Vue中，子组件为何不能修改父组件传进来的prop，如果修改了，Vue是如何监控到属性的修改并给出警告的？</h3><p>原因：单项数据流，易于检测数据的流动，出现错误可以更快速的定位到错误发生的位置。<br>如果修改了，Vue是如何健康到属性的修改并给出警告的？</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (process.env.NODE_ENV !== 'production') &#123;</span><br><span class="line">  var hyphenatedKey = hyphenate(key);</span><br><span class="line">      <span class="keyword">if</span> (is<span class="constructor">ReservedAttribute(<span class="params">hyphenatedKey</span>)</span> <span class="pattern-match"><span class="operator">||</span></span></span><br><span class="line"><span class="pattern-match">          config.is<span class="constructor">ReservedAttr(<span class="params">hyphenatedKey</span>)</span>) &#123;</span></span><br><span class="line"><span class="pattern-match">        warn(</span></span><br><span class="line"><span class="pattern-match">          ("\"" + hyphenated<span class="constructor">Key</span> + "\" is a reserved attribute <span class="keyword">and</span> cannot be used <span class="keyword">as</span> component prop."),</span></span><br><span class="line"><span class="pattern-match">          vm</span></span><br><span class="line"><span class="pattern-match">        );</span></span><br><span class="line"><span class="pattern-match">      &#125;</span></span><br><span class="line"><span class="pattern-match">      define<span class="constructor">Reactive$$1(<span class="params">props</span>, <span class="params">key</span>, <span class="params">value</span>, <span class="params">function</span> ()</span> &#123;</span></span><br><span class="line"><span class="pattern-match">        <span class="keyword">if</span> (!is<span class="constructor">Root</span> <span class="operator">&amp;&amp;</span> !is<span class="constructor">UpdatingChildComponent</span>) &#123;</span></span><br><span class="line"><span class="pattern-match">          warn(</span></span><br><span class="line"><span class="pattern-match">            "<span class="constructor">Avoid</span> mutating a prop directly since the value will be " +</span></span><br><span class="line"><span class="pattern-match">            "overwritten whenever the parent component re-renders. " +</span></span><br><span class="line"><span class="pattern-match">            "<span class="constructor">Instead</span>, use a data <span class="keyword">or</span> computed property based on the prop's " +</span></span><br><span class="line"><span class="pattern-match">            "value. <span class="constructor">Prop</span> being mutated: \"" + key + "\"",</span></span><br><span class="line"><span class="pattern-match">            vm</span></span><br><span class="line"><span class="pattern-match">          );</span></span><br><span class="line"><span class="pattern-match">        &#125;</span></span><br><span class="line"><span class="pattern-match">      &#125;);</span></span><br><span class="line"><span class="pattern-match">&#125;</span></span><br></pre></td></tr></table></figure>
<p>在initProps的时候，在defineReative时通过判断当前是否在开发环境，如果是开发环境，会在触发set时判断是否此key处于updatingChildren中被修改，如果不是，则说明修改来自子组件，触发warning提示。</p>
<h3 id="执行下面代码，输出的结果是？"><a href="#执行下面代码，输出的结果是？" class="headerlink" title="执行下面代码，输出的结果是？"></a>执行下面代码，输出的结果是？</h3><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line">(<span class="function"><span class="keyword">function</span><span class="params">()</span> <span class="comment">&#123;</span></span></span><br><span class="line"><span class="function"><span class="comment">  console.log(a);</span></span></span><br><span class="line"><span class="function"><span class="comment">  a = 5;</span></span></span><br><span class="line"><span class="function"><span class="comment">  console.log(window.a);</span></span></span><br><span class="line"><span class="function"><span class="comment">  var a = 20;</span></span></span><br><span class="line"><span class="function"><span class="comment">  console.log(a);</span></span></span><br><span class="line"><span class="function"><span class="comment">&#125;</span>)<span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="comment">// undefined</span></span></span><br><span class="line"><span class="function"><span class="comment">// 10</span></span></span><br><span class="line"><span class="function"><span class="comment">// 20</span></span></span><br></pre></td></tr></table></figure>

<h3 id="实现一个sleep函数，比如sleep-1000-意味着要等待1000毫秒，可从Promise、Generator、Async-await"><a href="#实现一个sleep函数，比如sleep-1000-意味着要等待1000毫秒，可从Promise、Generator、Async-await" class="headerlink" title="实现一个sleep函数，比如sleep(1000)意味着要等待1000毫秒，可从Promise、Generator、Async/await"></a>实现一个sleep函数，比如sleep(1000)意味着要等待1000毫秒，可从Promise、Generator、Async/await</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sleep</span>(<span class="params">time</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      resolve(<span class="string">'执行啦'</span>);</span><br><span class="line">    &#125;, time)</span><br><span class="line">  &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">sleep</span>(<span class="params">time</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      resolve(<span class="string">'执行完了'</span>)</span><br><span class="line">    &#125;, time)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">sleep(<span class="number">1000</span>).next().value.then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res))</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">sleep</span>(<span class="params">time</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      resolve(<span class="string">'执行完了'</span>);</span><br><span class="line">    &#125;, time)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="built_in">console</span>.log(result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="介绍HTTPS握手的过程"><a href="#介绍HTTPS握手的过程" class="headerlink" title="介绍HTTPS握手的过程"></a>介绍HTTPS握手的过程</h3><ol>
<li>客户端使用HTTPS的url访问web服务器，要求与服务器建立ssl连接</li>
<li>web服务器收到请求后，会将网站的证书（包含公钥）传送一份给客户端</li>
<li>客户端收到网站证书后，检查证书的颁发机构以及过期时间，如果没有问题就随机产生一个秘钥</li>
<li>客服端利用公钥将会话秘钥加密，并传送给服务端，服务端利用自己的私钥解密出会话秘钥</li>
<li>之后客户端与服务端使用会话秘钥加密传输</li>
</ol>
<h3 id="HTTPS握手过程中，客户端如何验证证书的合法性？"><a href="#HTTPS握手过程中，客户端如何验证证书的合法性？" class="headerlink" title="HTTPS握手过程中，客户端如何验证证书的合法性？"></a>HTTPS握手过程中，客户端如何验证证书的合法性？</h3><p>（1）首先浏览器读取证书中的证书所有者、有效期等信息进行校验，校验证书的网站域名是否与证书颁发的域名一致，校验证书是否在有效期内<br>（2）浏览器开始查找操作系统中已内置的受信任的证书发布机构CA，与服务器发来的证书中的颁发者CA比对，用于校验证书是否为合法机构颁发<br>（3）如果找不到，浏览器就会报错，说明服务器发来的证书是不可信任的。<br>（4）如果找到，那么浏览器就会从操作系统中取出颁发者CA 的公钥(多数浏览器开发商发布<br>版本时，会事先在内部植入常用认证机关的公开密钥)，然后对服务器发来的证书里面的签名进行解密<br>（5）浏览器使用相同的hash算法计算出服务器发来的证书的hash值，将这个计算的hash值与证书中签名做对比<br>（6）对比结果一致，则证明服务器发来的证书合法，没有被冒充</p>
<h3 id="输出以下代码的结果，并解释原因"><a href="#输出以下代码的结果，并解释原因" class="headerlink" title="输出以下代码的结果，并解释原因"></a>输出以下代码的结果，并解释原因</h3><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">var</span> a = &#123;</span><br><span class="line">  '<span class="number">2</span>': <span class="number">3</span>,</span><br><span class="line">  '<span class="number">3</span>': <span class="number">4</span>,</span><br><span class="line">  <span class="built_in">length</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="built_in">splice</span>: Array.prototype.<span class="built_in">splice</span>,</span><br><span class="line">  <span class="built_in">push</span>: Array.prototype.<span class="built_in">push</span></span><br><span class="line">&#125;</span><br><span class="line">a.<span class="built_in">push</span>(<span class="number">1</span>);</span><br><span class="line">a.<span class="built_in">push</span>(<span class="number">2</span>);</span><br><span class="line">console.<span class="built_in">log</span>(a);</span><br><span class="line">// Object(<span class="number">4</span>)</span><br><span class="line">// <span class="number">2</span>: <span class="number">1</span></span><br><span class="line">// <span class="number">3</span>: <span class="number">2</span></span><br><span class="line">// <span class="built_in">length</span>: <span class="number">4</span></span><br><span class="line">// <span class="built_in">push</span>: ƒ <span class="built_in">push</span>()</span><br><span class="line">// <span class="built_in">splice</span>: ƒ <span class="built_in">splice</span>()</span><br><span class="line">// __proto__: Object</span><br></pre></td></tr></table></figure>
<p>涉及知识点：</p>
<p>类数组（ArrayLike）：<br>一组数据，由数组来存，但是如果要对这组数据进行扩展，会影响到数组原型，ArrayLike的出现则提供了一个中间数据桥梁，ArrayLike有数组的特性， 但是对ArrayLike的扩展并不会影响到原生的数组。</p>
<p>push方法：<br>push 方法有意具有通用性。该方法和 call() 或 apply() 一起使用时，可应用在类似数组的对象上。push 方法根据 length 属性来决定从哪里开始插入给定的值。如果 length 不能被转成一个数值，则插入的元素索引为 0，包括 length 不存在时。当 length 不存在时，将会创建它。<br>唯一的原生类数组（array-like）对象是 Strings，尽管如此，它们并不适用该方法，因为字符串是不可改变的。</p>
<p>对象转数组的方式：<br>Array.from()、splice()、concat()等</p>
<h3 id="Vue中双向数据绑定和Vuex是否冲突"><a href="#Vue中双向数据绑定和Vuex是否冲突" class="headerlink" title="Vue中双向数据绑定和Vuex是否冲突"></a>Vue中双向数据绑定和Vuex是否冲突</h3><p>在严格模式中使用Vuex，当用户输入时，v-model会试图直接修改属性值，但这个修改不是在mutation中修改的，所以会抛出一个错误。当需要在组件中使用vuex中的state时，有2种解决方案：<br>1、在input中绑定value(vuex中的state)，然后监听input的change或者input事件，在事件回调中调用mutation修改state的值<br>2、使用带有setter的双向绑定计算属性。见以下例子（来自官方文档）：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input v-model=<span class="string">"message"</span>&gt;</span><br><span class="line">computed: &#123; message: &#123; <span class="keyword">get</span> () &#123; <span class="keyword">return</span> <span class="keyword">this</span>.$store.state.obj.message &#125;, <span class="keyword">set</span> (value) &#123; <span class="keyword">this</span>.$store.commit(<span class="string">'updateMessage'</span>, value) &#125; &#125; &#125;</span><br></pre></td></tr></table></figure>

<h3 id="cal和apply有什么区别，哪个性能更好些？"><a href="#cal和apply有什么区别，哪个性能更好些？" class="headerlink" title="cal和apply有什么区别，哪个性能更好些？"></a>cal和apply有什么区别，哪个性能更好些？</h3><ol>
<li>Function.prototype.apply和Function.prototype.call 的作用是一样的，区别在于传入参数的不同；</li>
<li>第一个参数都是，指定函数体内this的指向；</li>
<li>第二个参数开始不同，apply是传入带下标的集合，数组或者类数组，apply把它传给函数作为参数，call从第二个开始传入的参数是不固定的，都会传给函数作为参数。</li>
<li>call比apply的性能要好，平常可以多用call, call传入参数的格式正是内部所需要的格式</li>
</ol>
<h3 id="为什么通常在发送数据埋点请求的时候通常使用的是1-1像素的透明的gif图片？"><a href="#为什么通常在发送数据埋点请求的时候通常使用的是1-1像素的透明的gif图片？" class="headerlink" title="为什么通常在发送数据埋点请求的时候通常使用的是1*1像素的透明的gif图片？"></a>为什么通常在发送数据埋点请求的时候通常使用的是1*1像素的透明的gif图片？</h3><p>作用：工作中，用于前端监控，比如曝光等等，谷歌和百度的都是用的1x1 像素的透明 gif 图片；<br>why?</p>
<ol>
<li>没有跨域问题，一般这种上报数据，代码要写通用的；（排除ajax）</li>
<li>不会阻塞页面加载，影响用户的体验，只要new Image对象就好了；（排除JS/CSS文件资源方式上报）</li>
<li>在所有图片中，体积最小；（比较PNG/JPG）</li>
<li>能够完成整个 HTTP 请求+响应（尽管不需要响应内容）</li>
<li>触发 GET 请求之后不需要获取和处理数据、服务器也不需要发送数据</li>
<li>跨域友好</li>
<li>执行过程无阻塞</li>
<li>相比 XMLHttpRequest 对象发送 GET 请求，性能上更好</li>
<li>GIF的最低合法体积最小（最小的BMP文件需要74个字节，PNG需要67个字节，而合法的GIF，只需要43个字节）</li>
</ol>
<h3 id="实现-5-add-3-minus-2"><a href="#实现-5-add-3-minus-2" class="headerlink" title="实现(5).add(3).minus(2)"></a>实现(5).add(3).minus(2)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.prototype.add = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.valueOf() + n;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Number</span>.prototype.minus = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.valueOf() - n;</span><br><span class="line">&#125;</span><br><span class="line">(<span class="number">5</span>).add(<span class="number">3</span>).minus(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Vue的响应式原理中Object-defineProperty有什么缺陷？为什么在3-0中采用了Proxy，抛弃了Object-defineProperty"><a href="#Vue的响应式原理中Object-defineProperty有什么缺陷？为什么在3-0中采用了Proxy，抛弃了Object-defineProperty" class="headerlink" title="Vue的响应式原理中Object.defineProperty有什么缺陷？为什么在3.0中采用了Proxy，抛弃了Object.defineProperty?"></a>Vue的响应式原理中Object.defineProperty有什么缺陷？为什么在3.0中采用了Proxy，抛弃了Object.defineProperty?</h3><ol>
<li>Object.defineProperty无法监控到数组下标的变化，导致通过数组下标添加元素，不能实时响应；</li>
<li>Object.defineProperty只能劫持对象的属性，从而需要对每个对象，每个属性进行遍历，如果，属性值是对象，还需要深度遍历。Proxy可以劫持整个对象，并返回一个新的对象。</li>
<li>Proxy不仅可以代理对象，还可以代理数组。还可以代理动态增加的属性。</li>
</ol>
<h3 id="怎么让一个div垂直水平居中。"><a href="#怎么让一个div垂直水平居中。" class="headerlink" title="怎么让一个div垂直水平居中。"></a>怎么让一个div垂直水平居中。</h3><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">div</span> <span class="built_in">class</span>=<span class="string">"parent"</span>&gt;</span><br><span class="line">  &lt;<span class="keyword">div</span> <span class="built_in">class</span>=<span class="string">"child"</span> style=<span class="string">"width: 50px;height: 50px;background: yellow;"</span>&gt;&lt;/<span class="keyword">div</span>&gt;</span><br><span class="line">&lt;/<span class="keyword">div</span>&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.child</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.child</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.child</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-25px, -25px);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.child</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">25px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">25px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.parent</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.child</span> &#123;</span><br><span class="line">  <span class="attribute">justify-self</span>: center;</span><br><span class="line">  <span class="attribute">align-self</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="执行下面代码，给出输出结果，并解释为什么？"><a href="#执行下面代码，给出输出结果，并解释为什么？" class="headerlink" title="执行下面代码，给出输出结果，并解释为什么？"></a>执行下面代码，给出输出结果，并解释为什么？</h3><figure class="highlight gml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keywords">var</span> a = &#123;n: <span class="number">1</span>&#125;;</span><br><span class="line"><span class="keywords">var</span> b = a;</span><br><span class="line">a.<span class="symbol">x</span> = a = &#123;n: <span class="number">2</span>&#125;;</span><br><span class="line">console.log(a.<span class="symbol">x</span>);</span><br><span class="line">console.log(b.<span class="symbol">x</span>);</span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"><span class="comment">// &#123;n: 2&#125;</span></span><br></pre></td></tr></table></figure>
<p>首先，a和b同时引用了{n:2}对象，接着执行到a.x = a = {n：2}语句，尽管赋值是从右到左的没错，但是.的优先级比=要高，所以这里首先执行a.x，相当于为a（或者b）所指向的{n:1}对象新增了一个属性x，即此时对象将变为{n:1;x:undefined}。之后按正常情况，从右到左进行赋值，此时执行a ={n:2}的时候，a的引用改变，指向了新对象{n：2},而b依然指向的是旧对象。之后执行a.x = {n：2}的时候，并不会重新解析一遍a，而是沿用最初解析a.x时候的a，也即旧对象，故此时旧对象的x的值为{n：2}，旧对象为 {n:1;x:{n：2}}，它被b引用着。<br>后面输出a.x的时候，又要解析a了，此时的a是指向新对象的a，而这个新对象是没有x属性的，故访问时输出undefined；而访问b.x的时候，将输出旧对象的x的值，即{n:2}。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">b</span><span class="selector-class">.x</span> = <span class="selector-tag">a</span> = &#123;n: <span class="number">2</span>&#125;</span><br></pre></td></tr></table></figure>

<h3 id="冒泡排序如何实现？时间复杂度是多少？还可以如何改进？"><a href="#冒泡排序如何实现？时间复杂度是多少？还可以如何改进？" class="headerlink" title="冒泡排序如何实现？时间复杂度是多少？还可以如何改进？"></a>冒泡排序如何实现？时间复杂度是多少？还可以如何改进？</h3><p>时间复杂度：n^2</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">buddleSort</span><span class="params">(arr)</span> &#123;</span></span><br><span class="line">  console.time(<span class="string">'yes'</span>)</span><br><span class="line">  <span class="keyword">if</span> (!Array.isArray(arr)) <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">for</span> (let <span class="built_in">i</span> = <span class="number">0</span>; <span class="built_in">i</span> &lt; arr.<span class="built_in">length</span>; <span class="built_in">i</span>++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (let <span class="built_in">j</span> = <span class="number">0</span>; <span class="built_in">j</span> &lt; arr.<span class="built_in">length</span> - <span class="built_in">i</span> - <span class="number">1</span>; <span class="built_in">j</span>++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (arr[<span class="built_in">j</span>] &gt; arr[<span class="built_in">j</span> + <span class="number">1</span>]) &#123;</span><br><span class="line">        let temp = arr[<span class="built_in">j</span> + <span class="number">1</span>];</span><br><span class="line">        arr[<span class="built_in">j</span> + <span class="number">1</span>] = arr[<span class="built_in">j</span>];</span><br><span class="line">        arr[<span class="built_in">j</span>] = temp;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  console.timeEnd(<span class="string">'yes'</span>)</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>改进后</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">buddleSort</span><span class="params">(arr)</span> &#123;</span></span><br><span class="line">  console.time(<span class="string">'abc1'</span>);</span><br><span class="line">  <span class="keyword">if</span> (!Array.isArray(arr)) <span class="keyword">return</span>;</span><br><span class="line">  let <span class="built_in">i</span> = arr.<span class="built_in">length</span> - <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">while</span>(<span class="built_in">i</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    let pos = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (let <span class="built_in">j</span> = <span class="number">0</span>; <span class="built_in">j</span> &lt; <span class="built_in">i</span>; <span class="built_in">j</span>++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (arr[<span class="built_in">j</span>] &gt; arr[<span class="built_in">j</span> + <span class="number">1</span>]) &#123;</span><br><span class="line">        pos = <span class="built_in">j</span>;</span><br><span class="line">        let temp = arr[<span class="built_in">j</span> + <span class="number">1</span>];</span><br><span class="line">        arr[<span class="built_in">j</span> + <span class="number">1</span>] = arr[<span class="built_in">j</span>];</span><br><span class="line">        arr[<span class="built_in">j</span>] = temp; </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">i</span> = pos;</span><br><span class="line">  &#125;</span><br><span class="line">  console.timeEnd(<span class="string">'abc1'</span>);</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="某公司1到12月份的销售额存在一个对象里"><a href="#某公司1到12月份的销售额存在一个对象里" class="headerlink" title="某公司1到12月份的销售额存在一个对象里"></a>某公司1到12月份的销售额存在一个对象里</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let data = &#123;<span class="number">1</span>: <span class="number">222</span>, <span class="number">2</span>: <span class="number">123</span>, <span class="number">5</span>: <span class="number">888</span>&#125;;</span><br><span class="line"><span class="keyword">const</span> arr = Array.<span class="keyword">from</span>(&#123;length: <span class="number">12</span>&#125;).map((_, index) =&gt; data[index + <span class="number">1</span>] || <span class="literal">null</span>);</span><br><span class="line">console.log(arr);</span><br></pre></td></tr></table></figure>

<h3 id="要求设计LazyMan类，实现以下功能。"><a href="#要求设计LazyMan类，实现以下功能。" class="headerlink" title="要求设计LazyMan类，实现以下功能。"></a>要求设计LazyMan类，实现以下功能。</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LazyManClass</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.taskList = [];</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Hi I am <span class="subst">$&#123;name&#125;</span>`</span>);</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">this</span>.next();</span><br><span class="line">    &#125;, <span class="number">0</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  sleep(time) &#123;</span><br><span class="line">    <span class="keyword">let</span> that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">let</span> fn = (<span class="function"><span class="keyword">function</span>(<span class="params">time</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">`等待了<span class="subst">$&#123;time&#125;</span>秒...`</span>);</span><br><span class="line">          that.next();</span><br><span class="line">        &#125;, time * <span class="number">1000</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)(time)</span><br><span class="line">    <span class="keyword">this</span>.taskList.push(fn);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  eat(something) &#123;</span><br><span class="line">    <span class="keyword">let</span> that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">let</span> fn = (<span class="function"><span class="keyword">function</span>(<span class="params">something</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`I am eating <span class="subst">$&#123;something&#125;</span>`</span>)</span><br><span class="line">        that.next();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)(something)</span><br><span class="line">    <span class="keyword">this</span>.taskList.push(fn);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  sleepFirst(time) &#123;</span><br><span class="line">    <span class="keyword">let</span> that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">let</span> fn = (<span class="function"><span class="keyword">function</span>(<span class="params">time</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">`等待了<span class="subst">$&#123;time&#125;</span>秒...`</span>);</span><br><span class="line">          that.next();</span><br><span class="line">        &#125;, time * <span class="number">1000</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)(time)</span><br><span class="line">    <span class="keyword">this</span>.taskList.unshift(fn);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  next() &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.taskList.length === <span class="number">0</span> ) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">let</span> fn = <span class="keyword">this</span>.taskList.shift();</span><br><span class="line">    fn &amp;&amp; fn();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">LazyMan</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> LazyManClass(name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="分析比较opacity-0、visibility-hidden、display-none优劣和适用场景？"><a href="#分析比较opacity-0、visibility-hidden、display-none优劣和适用场景？" class="headerlink" title="分析比较opacity:0、visibility: hidden、display: none优劣和适用场景？"></a>分析比较opacity:0、visibility: hidden、display: none优劣和适用场景？</h3><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">display: </span>none<span class="comment">;</span></span><br></pre></td></tr></table></figure>
<ol>
<li>DOM 结构：浏览器不会渲染 display 属性为 none 的元素，不占据空间；</li>
<li>事件监听：无法进行 DOM 事件监听；</li>
<li>性能：动态改变此属性时会引起重排，性能较差；</li>
<li>继承：不会被子元素继承，毕竟子类也不会被渲染；</li>
<li>transition：transition 不支持 display。<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">visibility</span>: hidden;</span><br></pre></td></tr></table></figure></li>
<li>DOM 结构：元素被隐藏，但是会被渲染不会消失，占据空间；</li>
<li>事件监听：无法进行 DOM 事件监听；</li>
<li>性 能：动态改变此属性时会引起重绘，性能较高；</li>
<li>继 承：会被子元素继承，子元素可以通过设置 visibility: visible; 来取消隐藏；</li>
<li>transition：transition 不支持 display。<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">opacity</span>: <span class="number">0</span>;</span><br></pre></td></tr></table></figure></li>
<li>DOM 结构：透明度为 100%，元素隐藏，占据空间；</li>
<li>事件监听：可以进行 DOM 事件监听；</li>
<li>性 能：提升为合成层，不会触发重绘，性能较高；</li>
<li>继 承：会被子元素继承,且，子元素并不能通过 opacity: 1 来取消隐藏；</li>
<li>transition：transition 不支持 opacity。</li>
</ol>
<h3 id="箭头函数与普通函数的区别？构造函数可以使用new生成实例，那么箭头函数可以吗？为什么？"><a href="#箭头函数与普通函数的区别？构造函数可以使用new生成实例，那么箭头函数可以吗？为什么？" class="headerlink" title="箭头函数与普通函数的区别？构造函数可以使用new生成实例，那么箭头函数可以吗？为什么？"></a>箭头函数与普通函数的区别？构造函数可以使用new生成实例，那么箭头函数可以吗？为什么？</h3><p>箭头函数是普通函数的简写，可以更优雅的定义一个函数，和普通函数相比，有以下几点差异：</p>
<ol>
<li>函数体内的 this 对象，就是定义时所在的对象，而不是使用时所在的对象。</li>
<li>不可以使用 arguments 对象，该对象在函数体内不存在。如果要用，可以用 rest 参数代替。</li>
<li>不可以使用 yield 命令，因此箭头函数不能用作 Generator 函数。</li>
<li>不可以使用 new 命令，因为：<br>没有自己的 this，无法调用 call，apply。<br>没有 prototype 属性 ，而 new 命令在执行时需要将构造函数的 prototype 赋值给新的对象的 <strong>proto</strong><br>new操作符大致过程是这样的：<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">newFunc</span><span class="params">(father, <span class="rest_arg">...rest</span>)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> result = &#123;&#125;;</span><br><span class="line">  result.__proto__ = father.prototype;</span><br><span class="line">  <span class="keyword">var</span> result2 = father.apply(result, rest);</span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    (<span class="keyword">typeof</span> result2 === <span class="string">'object'</span> || <span class="keyword">typeof</span> result2 === <span class="string">'function'</span>) &amp;&amp;</span><br><span class="line">    result2 !== <span class="literal">null</span></span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="keyword">return</span> result2;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="给定两个数组，写一个方法计算他们的交集。"><a href="#给定两个数组，写一个方法计算他们的交集。" class="headerlink" title="给定两个数组，写一个方法计算他们的交集。"></a>给定两个数组，写一个方法计算他们的交集。</h3><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">let arr1 = [<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">6</span>], arr2 = [<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">6</span>];</span><br><span class="line">function fn(arr1, arr2) &#123;</span><br><span class="line">  return arr1.filter((item, index) =&gt; &#123;</span><br><span class="line">    if (arr2.includes(item)) &#123;</span><br><span class="line">      return item;</span><br><span class="line">      arr2.splice(index, <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">fn(arr1, arr2)</span><br></pre></td></tr></table></figure>
<p>哈希表，时间复杂度O(m+n),m:arr1的长度，n:arr2的长度</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">function <span class="built_in">intersect</span>(arr1, arr2) &#123;</span><br><span class="line">  const <span class="built_in">map</span> = &#123;&#125;;</span><br><span class="line">  const res = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="built_in">let</span> n of arr1) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">map</span>[n]) &#123;</span><br><span class="line">      <span class="built_in">map</span>[n]++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">map</span>[n] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="built_in">let</span> n of arr2) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">map</span>[n] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      res.<span class="built_in">push</span>(n);</span><br><span class="line">      <span class="built_in">map</span>[n]--;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="已知如下代码，如何修改才能使图片宽度为300px？注意下面代码不可修改。"><a href="#已知如下代码，如何修改才能使图片宽度为300px？注意下面代码不可修改。" class="headerlink" title="已知如下代码，如何修改才能使图片宽度为300px？注意下面代码不可修改。"></a>已知如下代码，如何修改才能使图片宽度为300px？注意下面代码不可修改。</h3><figure class="highlight plain"><figcaption><span>src</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#96;&#96;&#96;</span><br><span class="line">img &#123;</span><br><span class="line">  max-width: 300px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">180px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(0.625, 0.625);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: imgWH <span class="number">0s</span> forwards;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">keyframes</span> imgWH &#123;</span><br><span class="line">  <span class="selector-tag">from</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  &#125; </span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">利用<span class="selector-tag">CSS</span>动画的样式优先级高于!<span class="selector-tag">important</span>的特性</span><br></pre></td></tr></table></figure>

<h3 id="介绍下如何实现token加密"><a href="#介绍下如何实现token加密" class="headerlink" title="介绍下如何实现token加密"></a>介绍下如何实现token加密</h3><p>jwt举例</p>
<ol>
<li>需要一个secret（随机数）</li>
<li>后端利用secret和加密算法(如：HMAC-SHA256)对payload(如账号密码)生成一个字符串(token)，返回前端<br>前端每次request在header中带上token</li>
<li>后端用同样的算法解密</li>
<li>这边也是这么做的，后端根据token来查权限和是否登录以及失效等</li>
</ol>
<h3 id="如何设计实现无缝轮播"><a href="#如何设计实现无缝轮播" class="headerlink" title="如何设计实现无缝轮播"></a>如何设计实现无缝轮播</h3><p>无限轮播基本插件都可以做到,不过要使用原生代码实现无缝滚动的话我可以提点思路,<br>因为轮播图基本都在ul盒子里面的li元素,<br>首先获取第一个li元素和最后一个li元素,<br>克隆第一个li元素,和最后一个li元素,<br>分别插入到lastli的后面和firstli的前面,<br>然后监听滚动事件,如果滑动距离超过x或-x,让其实现跳转下一张图或者跳转上一张,(此处最好设置滑动距离),<br>然后在滑动最后一张实现最后一张和克隆第一张的无缝转换,当到克隆的第一张的时候停下的时候,,让其切入真的第一张,则实现无线滑动,向前滑动同理</p>
<h3 id="模拟实现一个Promise-finally"><a href="#模拟实现一个Promise-finally" class="headerlink" title="模拟实现一个Promise.finally"></a>模拟实现一个Promise.finally</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.prototype.finally = <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> p = <span class="keyword">this</span>.constructor;</span><br><span class="line">  <span class="keyword">return</span> p.then(</span><br><span class="line">    value =&gt; <span class="built_in">Promise</span>.resolve(callback()).then(<span class="function"><span class="params">()</span> =&gt;</span> value),</span><br><span class="line">    reason =&gt; <span class="built_in">Promise</span>.resolve(callback()).then(<span class="function"><span class="params">()</span> =&gt;</span> reason)</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="a-b-c-d和a-‘b’-‘c’-‘d’-，哪个性能更高？"><a href="#a-b-c-d和a-‘b’-‘c’-‘d’-，哪个性能更高？" class="headerlink" title="a.b.c.d和a[‘b’][‘c’][‘d’]，哪个性能更高？"></a>a.b.c.d和a[‘b’][‘c’][‘d’]，哪个性能更高？</h3><p>应该是 <code>a.b.c.d</code> 比 <code>a[&#39;b&#39;][&#39;c&#39;][&#39;d&#39;]</code> 性能高点，后者还要考虑 [ ] 中是变量的情况，再者，从两种形式的结构来看，显然编译器解析前者要比后者容易些，自然也就快一点。<br>这个题从AST角度看就很简单了，<code>a[&#39;b&#39;][&#39;c&#39;][&#39;d&#39;]</code>和<code>a.b.c.d</code>，转换成AST前者的的树是含计算的，后者只是string literal，天然前者会消耗更多的计算成本，时间也更长</p>
<h3 id="ES6代码转换为ES5代码实现思路？"><a href="#ES6代码转换为ES5代码实现思路？" class="headerlink" title="ES6代码转换为ES5代码实现思路？"></a>ES6代码转换为ES5代码实现思路？</h3><p>题目说的是 ES6，所以不考虑 .jsx、.ts 这类 js 拓展语言。<br>ES6 转 ES5 目前行业标配是用 Babel，转换的大致流程如下：</p>
<p>解析：解析代码字符串，生成 AST；<br>转换：按一定的规则转换、修改 AST；<br>生成：将修改后的 AST 转换成普通代码。<br>如果不用工具，纯人工的话，就是使用或自己写各种 polyfill 了。<br>补充说明：</p>
<blockquote>
<p>.vue文件通过webpack的vue-loader分析出script style template 再走上面的ES6转ES5流程<br>jsx通过babel插件转js语法再走ES6转ES5<br>ts通过tsc结合tsconfig.json直接转ES5</p>
</blockquote>
<h3 id="随机生成一个长度为-10-的整数类型的数组，例如-2-10-3-4-5-11-10-11-20-，将其排列成一个新数组，要求新数组形式如下，例如-2-3-4-5-10-11-20"><a href="#随机生成一个长度为-10-的整数类型的数组，例如-2-10-3-4-5-11-10-11-20-，将其排列成一个新数组，要求新数组形式如下，例如-2-3-4-5-10-11-20" class="headerlink" title="随机生成一个长度为 10 的整数类型的数组，例如 [2, 10, 3, 4, 5, 11, 10, 11, 20]，将其排列成一个新数组，要求新数组形式如下，例如 [[2, 3, 4, 5], [10, 11], [20]]"></a>随机生成一个长度为 10 的整数类型的数组，例如 [2, 10, 3, 4, 5, 11, 10, 11, 20]，将其排列成一个新数组，要求新数组形式如下，例如 [[2, 3, 4, 5], [10, 11], [20]]</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> arr = <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">10</span>&#125;).map(<span class="function"><span class="params">item</span> =&gt;</span> item = <span class="built_in">Math</span>.random().toFixed(<span class="number">2</span>)*<span class="number">100</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(arr)</span><br><span class="line">  <span class="keyword">let</span> arr1 = [...new <span class="built_in">Set</span>(arr)].sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br><span class="line">  <span class="built_in">console</span>.log(arr1)</span><br><span class="line">  <span class="keyword">let</span> arr2 = []</span><br><span class="line">  arr1.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> key = <span class="built_in">parseInt</span>(item / <span class="number">10</span>);</span><br><span class="line">    <span class="keyword">if</span> (!arr2[key]) &#123;</span><br><span class="line">      arr2[key] = [];</span><br><span class="line">    &#125; </span><br><span class="line">    arr2[key].push(item)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="built_in">console</span>.log(arr2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="实现0-5像素边框-如何解决移动端Retina屏1像素问题"><a href="#实现0-5像素边框-如何解决移动端Retina屏1像素问题" class="headerlink" title="实现0.5像素边框/如何解决移动端Retina屏1像素问题"></a>实现0.5像素边框/如何解决移动端Retina屏1像素问题</h3><ol>
<li>伪元素 + transform scaleY(0.5)</li>
<li>border-image</li>
<li>background-image</li>
<li>box-shadow</li>
</ol>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">processString</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> arr = str.split(<span class="string">''</span>).map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (item === item.toLowerCase()) &#123;</span><br><span class="line">      <span class="keyword">return</span> item.toUpperCase();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> item.toLowerCase()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> arr.join(<span class="string">''</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">'AbcDefGh</span><span class="symbol">'.replace</span>(<span class="name"><span class="builtin-name">/</span></span>[<span class="name">a-zA-Z</span>]/g,function(<span class="name">a</span>)&#123; return /[<span class="name">a-z</span>]/.test(<span class="name">a</span>)?a.toUpperCase():a.toLowerCase()<span class="comment">; &#125;);</span></span><br></pre></td></tr></table></figure>

<h3 id="介绍webpack热更新原理，是如何做到在不刷新浏览器的前提下更新页面的？"><a href="#介绍webpack热更新原理，是如何做到在不刷新浏览器的前提下更新页面的？" class="headerlink" title="介绍webpack热更新原理，是如何做到在不刷新浏览器的前提下更新页面的？"></a>介绍webpack热更新原理，是如何做到在不刷新浏览器的前提下更新页面的？</h3><ol>
<li>当修改了一个或多个文件；</li>
<li>文件系统接收更改并通知webpack；</li>
<li>webpack重新编译构建一个或多个模块，并通知HMR服务器进行更新；</li>
<li>HMR Server 使用webSocket通知HMR runtime 需要更新，HMR运行时通过HTTP请求更新jsonp；</li>
<li>HMR运行时替换更新中的模块，如果确定这些模块无法更新，则触发整个页面刷新。</li>
</ol>
<p>关于webpack的热更新原理，面试官比较想听到的是工作流程和关键点，非“流水账”式的源码分析。我认为可以这样的介绍：</p>
<p>首先，介绍webpack-dev-server:<br>webpack-dev-server 主要包含了三个部分：</p>
<ol>
<li>webpack: 负责编译代码</li>
<li>webpack-dev-middleware: 主要负责构建内存文件系统，把webpack的 OutputFileSystem 替换成 InMemoryFileSystem。同时作为Express的中间件拦截请求，从内存文件系统中把结果拿出来。</li>
<li>express：负责搭建请求路由服务。</li>
</ol>
<p>其次，介绍工作流程:</p>
<ol>
<li>启动dev-server，webpack开始构建，在编译期间会向 entry 文件注入热更新代码；</li>
<li>Client 首次打开后，Server 和 Client 基于Socket建立通讯渠道；</li>
<li>修改文件，Server 端监听文件发送变动，webpack开始编译，直到编译完成会触发”Done”事件；</li>
<li>Server通过socket 发送消息告知 Client；</li>
<li>Client根据Server的消息（hash值和state状态），通过ajax请求获取 Server 的manifest描述文件；</li>
<li>Client对比当前 modules tree ，再次发请求到 Server 端获取新的JS模块；</li>
<li>Client获取到新的JS模块后，会更新 modules tree并替换掉现有的模块；</li>
<li>最后调用 module.hot.accept() 完成热更新；</li>
</ol>
<h3 id="实现一个字符串匹配算法，从长度为-n-的字符串-S-中，查找是否存在字符串-T，T-的长度是-m，若存在返回所在位置。"><a href="#实现一个字符串匹配算法，从长度为-n-的字符串-S-中，查找是否存在字符串-T，T-的长度是-m，若存在返回所在位置。" class="headerlink" title="实现一个字符串匹配算法，从长度为 n 的字符串 S 中，查找是否存在字符串 T，T 的长度是 m，若存在返回所在位置。"></a>实现一个字符串匹配算法，从长度为 n 的字符串 S 中，查找是否存在字符串 T，T 的长度是 m，若存在返回所在位置。</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span><span class="params">(s, t)</span> &#123;</span></span><br><span class="line">  <span class="keyword">if</span> (s.<span class="built_in">length</span> &lt; t.<span class="built_in">length</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">  let arr = s.split(t);</span><br><span class="line">  <span class="keyword">return</span> arr.<span class="built_in">length</span> &gt; <span class="number">1</span> ? arr[<span class="number">0</span>].<span class="built_in">length</span> : <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span><span class="params">(s, t)</span> &#123;</span></span><br><span class="line">  <span class="keyword">if</span> (s.<span class="built_in">length</span> &lt; t.<span class="built_in">length</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">  <span class="keyword">for</span>(let <span class="built_in">i</span> = <span class="number">0</span>,len = s.<span class="built_in">length</span> - t.<span class="built_in">length</span>; <span class="built_in">i</span> &lt; len; <span class="built_in">i</span>++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (s.substr(<span class="built_in">i</span>, t.<span class="built_in">length</span>) === t) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">i</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="-1"><a href="#-1" class="headerlink" title=""></a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> arrs = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">10000000</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.time(<span class="string">'for'</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arrs.length; i++) &#123;</span><br><span class="line"></span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="built_in">console</span>.timeEnd(<span class="string">'for'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.time(<span class="string">'forEach'</span>);</span><br><span class="line">    </span><br><span class="line">  arrs.forEach(<span class="function">(<span class="params">arr</span>) =&gt;</span> &#123;</span><br><span class="line">  </span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="built_in">console</span>.timeEnd(<span class="string">'forEach'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在10万这个级别下， forEach 的性能是 for的十倍</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>: <span class="number">2.263</span>ms</span><br><span class="line">forEach: <span class="number">0.254</span>ms</span><br></pre></td></tr></table></figure>
<p>在100万这个量级下， forEach 的性能是和for的一致</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>: <span class="number">2.844</span>ms</span><br><span class="line">forEach: <span class="number">2.652</span>ms</span><br></pre></td></tr></table></figure>
<p>在1000万级以上的量级上 ， forEach 的性能远远低于for的性能</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>: <span class="number">8.422</span>ms</span><br><span class="line">forEach: <span class="number">30.328</span>m</span><br></pre></td></tr></table></figure>

<p>for循环是常见的循环语句forEach和map是在ES5出的，但是在性能上后者不如前者，在次数少的情况下forEach会比for要快，但是到达了十万次时forEach明显就跟不上了。在大数据量的情况下for循环的兼容性和多环境运行表现比较优秀，forEach的优点是在数据量小时占优势，语义话更简洁。循环时没有返回值。map和forEach差不多但是map循环有返回值</p>
<h3 id="介绍下BFC、IFC、GFC和FFC"><a href="#介绍下BFC、IFC、GFC和FFC" class="headerlink" title="介绍下BFC、IFC、GFC和FFC"></a>介绍下BFC、IFC、GFC和FFC</h3><ol>
<li><p>BFC（Block formatting contexts）：块级格式上下文<br>页面上的一个隔离的渲染区域，那么他是如何产生的呢？可以触发BFC的元素有float、position、overflow、display：table-cell/ inline-block/table-caption ；BFC有什么作用呢？比如说实现多栏布局’</p>
</li>
<li><p>IFC（Inline formatting contexts）：内联格式上下文<br>IFC的line box（线框）高度由其包含行内元素中最高的实际高度计算而来（不受到竖直方向的padding/margin影响)IFC中的line box一般左右都贴紧整个IFC，但是会因为float元素而扰乱。float元素会位于IFC与与line box之间，使得line box宽度缩短。 同个ifc下的多个line box高度会不同<br>IFC中时不可能有块级元素的，当插入块级元素时（如p中插入div）会产生两个匿名块与div分隔开，即产生两个IFC，每个IFC对外表现为块级元素，与div垂直排列。<br>那么IFC一般有什么用呢？<br>水平居中：当一个块要在环境中水平居中时，设置其为inline-block则会在外层产生IFC，通过text-align则可以使其水平居中。<br>垂直居中：创建一个IFC，用其中一个元素撑开父元素的高度，然后设置其vertical-align:middle，其他行内元素则可以在此父元素下垂直居中。</p>
</li>
<li><p>GFC（GrideLayout formatting contexts）：网格布局格式化上下文<br>当为一个元素设置display值为grid的时候，此元素将会获得一个独立的渲染区域，我们可以通过在网格容器（grid container）上定义网格定义行（grid definition rows）和网格定义列（grid definition columns）属性各在网格项目（grid item）上定义网格行（grid row）和网格列（grid columns）为每一个网格项目（grid item）定义位置和空间。那么GFC有什么用呢，和table又有什么区别呢？首先同样是一个二维的表格，但GridLayout会有更加丰富的属性来控制行列，控制对齐以及更为精细的渲染语义和控制。</p>
</li>
<li><p>FFC（Flex formatting contexts）:自适应格式上下文<br>display值为flex或者inline-flex的元素将会生成自适应容器（flex container），可惜这个牛逼的属性只有谷歌和火狐支持，不过在移动端也足够了，至少safari和chrome还是OK的，毕竟这俩在移动端才是王道。Flex Box 由伸缩容器和伸缩项目组成。通过设置元素的 display 属性为 flex 或 inline-flex 可以得到一个伸缩容器。设置为 flex 的容器被渲染为一个块级元素，而设置为 inline-flex 的容器则渲染为一个行内元素。伸缩容器中的每一个子元素都是一个伸缩项目。伸缩项目可以是任意数量的。伸缩容器外和伸缩项目内的一切元素都不受影响。简单地说，Flexbox 定义了伸缩容器内伸缩项目该如何布局。</p>
</li>
</ol>
<h3 id="使用JavaScript-Proxy实现简单的双向数据绑定。"><a href="#使用JavaScript-Proxy实现简单的双向数据绑定。" class="headerlink" title="使用JavaScript Proxy实现简单的双向数据绑定。"></a>使用JavaScript Proxy实现简单的双向数据绑定。</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  hello world</span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"model"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"word"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> inputEl = <span class="built_in">document</span>.querySelector(<span class="string">'#model'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> pEl = <span class="built_in">document</span>.querySelector(<span class="string">'#word'</span>);</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> obj = &#123;&#125;;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> newObj = <span class="keyword">new</span> <span class="built_in">Proxy</span>(obj, &#123;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">get</span>(target, key, receiver) &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> <span class="built_in">Reflect</span>.get(target, key, receiver)</span></span><br><span class="line"><span class="undefined">    &#125;,</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">set</span>(target, key, value, receiver) &#123;</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">if</span> (key === <span class="string">'text'</span>) &#123;</span></span><br><span class="line"><span class="undefined">        inputEl.value = value;</span></span><br><span class="line"><span class="undefined">        pEl.innerHtml = value;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> <span class="built_in">Reflect</span>.set(target, key, value, receiver)</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;)</span></span><br><span class="line"><span class="actionscript">  inputEl.addEventListener(<span class="string">'keyup'</span>, e =&gt; &#123;</span></span><br><span class="line"><span class="undefined">    newObj.text = e.target.value;</span></span><br><span class="line"><span class="undefined">  &#125;)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="数组里面有10万个数据，取第一个元素和第10万个元素的时间相差多少"><a href="#数组里面有10万个数据，取第一个元素和第10万个元素的时间相差多少" class="headerlink" title="数组里面有10万个数据，取第一个元素和第10万个元素的时间相差多少"></a>数组里面有10万个数据，取第一个元素和第10万个元素的时间相差多少</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">100000</span>);</span><br><span class="line">  <span class="built_in">console</span>.time(<span class="string">'first'</span>);</span><br><span class="line">  <span class="keyword">const</span> item = arr[<span class="number">0</span>];</span><br><span class="line">  <span class="built_in">console</span>.timeEnd(<span class="string">'first'</span>);</span><br><span class="line">  <span class="built_in">console</span>.time(<span class="string">'end'</span>);</span><br><span class="line">  <span class="keyword">const</span> item1 = arr[<span class="number">99999</span>];</span><br><span class="line">  <span class="built_in">console</span>.timeEnd(<span class="string">'end'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// first: 0.0029296875ms</span></span><br><span class="line"><span class="comment">// end: 0.001953125ms</span></span><br></pre></td></tr></table></figure>

<h3 id="输出下面代码运行的结果"><a href="#输出下面代码运行的结果" class="headerlink" title="输出下面代码运行的结果"></a>输出下面代码运行的结果</h3><p>这题考察的是对象的键名的转换：</p>
<ol>
<li>对象的键名只能是字符串和 Symbol 类型。</li>
<li>其他类型的键名会被转换成字符串类型。</li>
<li>对象转字符串默认会调用 toString 方法。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// example 1</span></span><br><span class="line"><span class="keyword">var</span> a=&#123;&#125;, b=<span class="string">'123'</span>, c=<span class="number">123</span>;</span><br><span class="line">a[b]=<span class="string">'b'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// c 的键名会被转换成字符串'123'，这里会把 b 覆盖掉。</span></span><br><span class="line">a[c]=<span class="string">'c'</span>;  </span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出 c</span></span><br><span class="line"><span class="built_in">console</span>.log(a[b]);</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// example 2</span></span><br><span class="line"><span class="keyword">var</span> a=&#123;&#125;, b=<span class="built_in">Symbol</span>(<span class="string">'123'</span>), c=<span class="built_in">Symbol</span>(<span class="string">'123'</span>);  </span><br><span class="line"></span><br><span class="line"><span class="comment">// b 是 Symbol 类型，不需要转换。</span></span><br><span class="line">a[b]=<span class="string">'b'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// c 是 Symbol 类型，不需要转换。任何一个 Symbol 类型的值都是不相等的，所以不会覆盖掉 b。</span></span><br><span class="line">a[c]=<span class="string">'c'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出 b</span></span><br><span class="line"><span class="built_in">console</span>.log(a[b]);</span><br></pre></td></tr></table></figure>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// example 3</span></span><br><span class="line">var a=&#123;&#125;, b=&#123;<span class="built_in">key</span>:<span class="string">'123'</span>&#125;, c=&#123;<span class="built_in">key</span>:<span class="string">'456'</span>&#125;;  </span><br><span class="line"></span><br><span class="line"><span class="comment">// b 不是字符串也不是 Symbol 类型，需要转换成字符串。</span></span><br><span class="line"><span class="comment">// 对象类型会调用 toString 方法转换成字符串 [object Object]。</span></span><br><span class="line">a[b]=<span class="string">'b'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// c 不是字符串也不是 Symbol 类型，需要转换成字符串。</span></span><br><span class="line"><span class="comment">// 对象类型会调用 toString 方法转换成字符串 [object Object]。这里会把 b 覆盖掉。</span></span><br><span class="line">a[c]=<span class="string">'c'</span>;  </span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出 c</span></span><br><span class="line">console.<span class="built_in">log</span>(a[b]);</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="旋转数组算法题"><a href="#旋转数组算法题" class="headerlink" title="旋转数组算法题"></a>旋转数组算法题</h3><p>给定一个数组，将数组中的元素向右移动 k 个位置，其中 k 是非负数。</p>
<p>输入: [1, 2, 3, 4, 5, 6, 7] 和 k = 3<br>输出: [5, 6, 7, 1, 2, 3, 4]<br>解释:<br>向右旋转 1 步: [7, 1, 2, 3, 4, 5, 6]<br>向右旋转 2 步: [6, 7, 1, 2, 3, 4, 5]<br>向右旋转 3 步: [5, 6, 7, 1, 2, 3, 4] </p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span><span class="params">(arr, k)</span> &#123;</span></span><br><span class="line">  <span class="keyword">for</span>(let <span class="built_in">i</span> = <span class="number">0</span>; <span class="built_in">i</span> &lt; k; <span class="built_in">i</span>++) &#123;</span><br><span class="line">    arr.unshift(arr.pop())</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span><span class="params">(arr, k)</span> &#123;</span></span><br><span class="line">  let num = arr.<span class="built_in">length</span> <span class="comment">% k;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Vue-的父组件和子组件生命周期钩子执行顺序是什么"><a href="#Vue-的父组件和子组件生命周期钩子执行顺序是什么" class="headerlink" title="Vue 的父组件和子组件生命周期钩子执行顺序是什么"></a>Vue 的父组件和子组件生命周期钩子执行顺序是什么</h3><ol>
<li>加载渲染过程<figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">父<span class="function"><span class="title">beforeCreate</span>-&gt;</span>父<span class="function"><span class="title">created</span>-&gt;</span>父<span class="function"><span class="title">beforeMount</span>-&gt;</span>子<span class="function"><span class="title">beforeCreate</span>-&gt;</span>子<span class="function"><span class="title">created</span>-&gt;</span>子<span class="function"><span class="title">beforeMount</span>-&gt;</span>子<span class="function"><span class="title">mounted</span>-&gt;</span>父mounted</span><br></pre></td></tr></table></figure></li>
<li>子组件更新过程<figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">父<span class="function"><span class="title">beforeUpdate</span>-&gt;</span>子<span class="function"><span class="title">beforeUpdate</span>-&gt;</span>子<span class="function"><span class="title">updated</span>-&gt;</span>父updated</span><br></pre></td></tr></table></figure></li>
<li>父组件更新过程<figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">父<span class="function"><span class="title">beforeUpdate</span>-&gt;</span>父updated</span><br></pre></td></tr></table></figure></li>
<li>销毁过程<figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">父<span class="function"><span class="title">beforeDestroy</span>-&gt;</span>子<span class="function"><span class="title">beforeDestroy</span>-&gt;</span>子<span class="function"><span class="title">destroyed</span>-&gt;</span>父destroyed</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="介绍下-Promise-all-使用、原理实现及错误处理"><a href="#介绍下-Promise-all-使用、原理实现及错误处理" class="headerlink" title="介绍下 Promise.all 使用、原理实现及错误处理"></a>介绍下 Promise.all 使用、原理实现及错误处理</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.all = <span class="function"><span class="keyword">function</span>(<span class="params">promises</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">Array</span>.isArray(promises)) &#123;</span><br><span class="line">      <span class="keyword">return</span> reject(<span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'argument must be an array'</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> countNum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> promiseNum = promises.length;</span><br><span class="line">    <span class="keyword">var</span> resolvedValue = <span class="keyword">new</span> <span class="built_in">Array</span>(promiseNum);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; promiseNum; i++) &#123;</span><br><span class="line">      (<span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">Promise</span>.resolve(promises[i]).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          countNum++;</span><br><span class="line">          resolvedValue[i] = res;</span><br><span class="line">          <span class="keyword">if</span> (countNum === promiseNum) &#123;</span><br><span class="line">            <span class="keyword">return</span> resolve(resolvedValue)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;, err =&gt; &#123;</span><br><span class="line">          <span class="keyword">return</span> reject(err)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)(i)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="打印出-1-10000-之间的所有对称数-例如-121、1331-等"><a href="#打印出-1-10000-之间的所有对称数-例如-121、1331-等" class="headerlink" title="打印出 1 - 10000 之间的所有对称数 例如 121、1331 等"></a>打印出 1 - 10000 之间的所有对称数 例如 121、1331 等</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span><span class="params">()</span> &#123;</span></span><br><span class="line">  let result = [];</span><br><span class="line">  <span class="keyword">for</span>(let <span class="built_in">i</span> = <span class="number">1</span>; <span class="built_in">i</span> &lt; <span class="number">10000</span>; <span class="built_in">i</span>++) &#123;</span><br><span class="line">    let item = <span class="built_in">i</span> + <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">if</span> (item.<span class="built_in">length</span> &gt; <span class="number">1</span> &amp;&amp; item === item.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>)) &#123;</span><br><span class="line">      result.push(item * <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  console.<span class="built_in">log</span>(result)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span><span class="params">()</span> &#123;</span></span><br><span class="line">  <span class="keyword">return</span> [...Array(<span class="number">10000</span>).<span class="built_in">keys</span>()].<span class="built_in">filter</span>(item =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> item.toString().length &gt; <span class="number">1</span> &amp;&amp; item === item.toString().<span class="keyword">split</span>(<span class="string">''</span>).<span class="built_in">reverse</span>().<span class="keyword">join</span>(<span class="string">''</span>)*<span class="number">1</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="算法题「移动零」，给定一个数组-nums，编写一个函数将所有-0-移动到数组的末尾，同时保持非零元素的相对顺序。"><a href="#算法题「移动零」，给定一个数组-nums，编写一个函数将所有-0-移动到数组的末尾，同时保持非零元素的相对顺序。" class="headerlink" title="算法题「移动零」，给定一个数组 nums，编写一个函数将所有 0 移动到数组的末尾，同时保持非零元素的相对顺序。"></a>算法题「移动零」，给定一个数组 nums，编写一个函数将所有 0 移动到数组的末尾，同时保持非零元素的相对顺序。</h3><figure class="highlight zephir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span><span class="params">(arr)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!<span class="keyword">Array</span>.isArray(arr)) <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">let</span> zeroArr = [];</span><br><span class="line">  <span class="keyword">let</span> <span class="keyword">list</span> = arr.filter(item =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (item === <span class="number">0</span>) &#123;</span><br><span class="line">      zeroArr.push(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> item !== <span class="number">0</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> [...<span class="keyword">list</span>, ...zeroArr]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span><span class="params">(arr)</span> &#123;</span></span><br><span class="line">  <span class="keyword">if</span> (!Array.isArray(arr)) <span class="keyword">return</span>;</span><br><span class="line">  let len = arr.<span class="built_in">length</span>;</span><br><span class="line">  let <span class="built_in">j</span> = <span class="number">0</span>, <span class="built_in">i</span> = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="built_in">i</span> = <span class="number">0</span>; <span class="built_in">i</span> &lt; len - <span class="built_in">j</span>; <span class="built_in">i</span>++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[<span class="built_in">i</span>] === <span class="number">0</span>) &#123;</span><br><span class="line">      arr.push(<span class="number">0</span>);</span><br><span class="line">      arr.splice(<span class="built_in">i</span>, <span class="number">1</span>);</span><br><span class="line">      <span class="built_in">i</span>--;</span><br><span class="line">      <span class="built_in">j</span>++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="var、let-和-const-区别的实现原理是什么"><a href="#var、let-和-const-区别的实现原理是什么" class="headerlink" title="var、let 和 const 区别的实现原理是什么"></a>var、let 和 const 区别的实现原理是什么</h3><ol>
<li>var声明的变量会挂载在window上，而let和const声明的变量不会<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">const</span> c = <span class="number">100</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a, <span class="built_in">window</span>.a); <span class="comment">// 100 100</span></span><br><span class="line"><span class="built_in">console</span>.log(b, <span class="built_in">window</span>.b); <span class="comment">// 100 undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(c, <span class="built_in">window</span>.c); <span class="comment">// 100 undefined</span></span><br></pre></td></tr></table></figure></li>
<li>var声明变量存在变量提升，let和const不存在变量提升<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">100</span>;</span><br><span class="line"><span class="built_in">console</span>.log(b); <span class="comment">// Uncaught ReferenceError: b is not defined</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="number">100</span>;</span><br><span class="line"><span class="built_in">console</span>.log(c); <span class="comment">// Uncaught ReferenceError: Cannot access 'c' before initialization</span></span><br><span class="line"><span class="keyword">const</span> c = <span class="number">100</span>;</span><br></pre></td></tr></table></figure></li>
<li>let和const声明形成块作用域，而var不存在此作用域<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">100</span>;</span><br><span class="line">  <span class="keyword">let</span> b = <span class="number">100</span>;</span><br><span class="line">  <span class="keyword">const</span> c = <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// 100</span></span><br><span class="line"><span class="built_in">console</span>.log(b); <span class="comment">// Uncaught ReferenceError: b is not defined</span></span><br><span class="line"><span class="built_in">console</span>.log(c); <span class="comment">// Uncaught ReferenceError: c is not defined</span></span><br></pre></td></tr></table></figure></li>
<li>同一作用域下let和const不能声明同名变量，而var可以<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var a = <span class="number">100</span>;</span><br><span class="line">let b = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">const</span> c = <span class="number">100</span>;</span><br><span class="line">var a = <span class="number">200</span>;</span><br><span class="line">let b = <span class="number">200</span>; <span class="comment">// Uncaught SyntaxError: Identifier 'b' has already been declared</span></span><br><span class="line"><span class="keyword">const</span> c = <span class="number">200</span>; <span class="comment">// Uncaught SyntaxError: Identifier 'c' has already been declared</span></span><br></pre></td></tr></table></figure></li>
<li>let、const存在暂存死区<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var a = <span class="number">100</span>;</span><br><span class="line">&#123;</span><br><span class="line">  a = <span class="number">200</span>; <span class="comment">// Uncaught ReferenceError: Cannot access 'a' before initialization</span></span><br><span class="line">  let a = <span class="number">300</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>const<blockquote>
<p>一旦声明必须赋值,不能使用null占位。<br>声明后不能再修改<br>如果声明的是复合类型数据，可以修改其属性</p>
</blockquote>
</li>
</ol>
<p>我们就从声明过程，内存分配，和变量提升这三点来看这三者之间的区别。</p>
<p>一.声明过程<br>var：遇到有var的作用域，在任何语句执行前都已经完成了声明和初始化，也就是变量提升而且拿到undefined的原因由来<br>function： 声明、初始化、赋值一开始就全部完成，所以函数的变量提升优先级更高<br>let：解析器进入一个块级作用域，发现let关键字，变量只是先完成声明，并没有到初始化那一步。此时如果在此作用域提前访问，则报错xx is not defined，这就是暂时性死区的由来。等到解析到有let那一行的时候，才会进入初始化阶段。如果let的那一行是赋值操作，则初始化和赋值同时进行<br>const、class都是同let一样的道理<br>比如解析如下代码步骤：</p>
<p>{<br>// 没用的第一行<br>// 没用的第二行<br>console.log(a) // 如果此时访问a报错 a is not defined<br>let a = 1<br>}<br>步骤：</p>
<p>发现作用域有let a，先注册个a，仅仅注册<br>没用的第一行<br>没用的第二行<br>a is not defined，暂时性死区的表现<br>假设前面那行不报错，a初始化为undefined<br>a赋值为1<br>对比于var，let、const只是解耦了声明和初始化的过程，var是在任何语句执行前都已经完成了声明和初始化，let、const仅仅是在任何语句执行前只完成了声明。</p>
<p>二.内存分配<br>var，会直接在栈内存里预分配内存空间，然后等到实际语句执行的时候，再存储对应的变量，如果传的是引用类型，那么会在堆内存里开辟一个内存空间存储实际内容，栈内存会存储一个指向堆内存的指针</p>
<p>let，是不会在栈内存里预分配内存空间，而且在栈内存分配变量时，做一个检查，如果已经有相同变量名存在就会报错</p>
<p>const，也不会预分配内存空间，在栈内存分配变量时也会做同样的检查。不过const存储的变量是不可修改的，对于基本类型来说你无法修改定义的值，对于引用类型来说你无法修改栈内存里分配的指针，但是你可以修改指针指向的对象里面的属性</p>
<p>三.变量提升<br>let const 和var三者其实会存在变量提升</p>
<p>let只是创建过程提升，初始化过程并没有提升，所以会产生暂时性死区。<br>var的创建和初始化过程都提升了，所以在赋值前访问会得到undefined<br>function 的创建、初始化、赋值都被提升了</p>
<h3 id="请实现一个-add-函数，满足以下功能。"><a href="#请实现一个-add-函数，满足以下功能。" class="headerlink" title="请实现一个 add 函数，满足以下功能。"></a>请实现一个 add 函数，满足以下功能。</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">add(<span class="number">1</span>); 	<span class="comment">// 1</span></span><br><span class="line">add(<span class="number">1</span>)(<span class="number">2</span>);  	<span class="comment">// 3</span></span><br><span class="line">add(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>)；  <span class="comment">// 6</span></span><br><span class="line">add(<span class="number">1</span>)(<span class="number">2</span>, <span class="number">3</span>);   <span class="comment">// 6</span></span><br><span class="line">add(<span class="number">1</span>, <span class="number">2</span>)(<span class="number">3</span>);   <span class="comment">// 6</span></span><br><span class="line">add(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);   <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> args = <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>);</span><br><span class="line">  <span class="keyword">let</span> fn = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> fn_args = <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>);</span><br><span class="line">    <span class="keyword">return</span> add.apply(<span class="literal">null</span>, args.concat(fn_args))</span><br><span class="line">  &#125;</span><br><span class="line">  fn.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> args.reduce(<span class="function">(<span class="params">res, cur</span>) =&gt;</span> res + cur)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> fn;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="算法题之「两数之和」"><a href="#算法题之「两数之和」" class="headerlink" title="算法题之「两数之和」"></a>算法题之「两数之和」</h3><p>给定一个整数数组和一个目标值，找出数组中和为目标值的两个数。</p>
<p>你可以假设每个输入只对应一种答案，且同样的元素不能被重复利用。</p>
<p>示例：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">给定 nums = [<span class="number">2</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">15</span>], target = <span class="number">9</span></span><br><span class="line"></span><br><span class="line">因为 nums[<span class="number">0</span>] + nums[<span class="number">1</span>] = <span class="number">2</span> + <span class="number">7</span> = <span class="number">9</span></span><br><span class="line">所以返回 [<span class="number">0</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span><span class="params">(arr, target)</span> &#123;</span></span><br><span class="line">  let len = arr.<span class="built_in">length</span>;</span><br><span class="line">  <span class="keyword">for</span>(let <span class="built_in">i</span> = <span class="number">0</span>; <span class="built_in">i</span> &lt; len; <span class="built_in">i</span>++) &#123;</span><br><span class="line">    <span class="keyword">for</span>(let <span class="built_in">j</span> = <span class="number">0</span>; <span class="built_in">j</span> &lt; len; <span class="built_in">j</span>++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">i</span> !== <span class="built_in">j</span> &amp;&amp; arr[<span class="built_in">i</span>] + arr[<span class="built_in">j</span>] === target) &#123;</span><br><span class="line">        <span class="keyword">return</span> [<span class="built_in">i</span>, <span class="built_in">j</span>]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="在输入框中如何判断输入的是一个正确的网址"><a href="#在输入框中如何判断输入的是一个正确的网址" class="headerlink" title="在输入框中如何判断输入的是一个正确的网址"></a>在输入框中如何判断输入的是一个正确的网址</h3><h3 id="实现-convert-方法，把原始-list-转换成树形结构，要求尽可能降低时间复杂度"><a href="#实现-convert-方法，把原始-list-转换成树形结构，要求尽可能降低时间复杂度" class="headerlink" title="实现 convert 方法，把原始 list 转换成树形结构，要求尽可能降低时间复杂度"></a>实现 convert 方法，把原始 list 转换成树形结构，要求尽可能降低时间复杂度</h3><h3 id="设计并实现-Promise-race"><a href="#设计并实现-Promise-race" class="headerlink" title="设计并实现 Promise.race()"></a>设计并实现 Promise.race()</h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="module-access"><span class="module"><span class="identifier">Promise</span>.</span><span class="module"><span class="identifier">_race</span> </span></span>= <span class="keyword">function</span> (promises) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!<span class="module-access"><span class="module"><span class="identifier">Array</span>.</span></span>is<span class="constructor">Array(<span class="params">promises</span>)</span>) &#123;</span><br><span class="line">    return <span class="keyword">new</span> <span class="constructor">TypeError('<span class="params">args</span> <span class="params">is</span> <span class="params">not</span> Array')</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  return <span class="keyword">new</span> <span class="constructor">Promise((<span class="params">resolve</span>, <span class="params">reject</span>)</span> =&gt; &#123;</span><br><span class="line">    for(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; promises.length; i++) &#123;</span><br><span class="line">      <span class="module-access"><span class="module"><span class="identifier">Promise</span>.</span></span>resolve(promises<span class="literal">[<span class="identifier">i</span>]</span>).<span class="keyword">then</span>(resolve, reject)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="实现模糊搜索结果的关键词高亮显示"><a href="#实现模糊搜索结果的关键词高亮显示" class="headerlink" title="实现模糊搜索结果的关键词高亮显示"></a>实现模糊搜索结果的关键词高亮显示</h3><p>我的大概思路是，用正则替换掉关键词。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> panter = <span class="keyword">new</span> <span class="built_in">RegExp</span>(关键词, <span class="string">'g'</span>)</span><br><span class="line">该行字符串.replace(panter, <span class="string">'&lt;b style="color: #2D7BFF"&gt;'</span> + 关键词 + <span class="string">'&lt;/b&gt;'</span>)</span><br></pre></td></tr></table></figure>
<p>ps:如果是vue项目，直接与v-html结合使用更爽哦~</p>
<h3 id="介绍下-HTTPS-中间人攻击"><a href="#介绍下-HTTPS-中间人攻击" class="headerlink" title="介绍下 HTTPS 中间人攻击"></a>介绍下 HTTPS 中间人攻击</h3><p>https协议由 http + ssl 协议构成，具体的链接过程可参考SSL或TLS握手的概述<br>中间人攻击过程如下：</p>
<ol>
<li>服务器向客户端发送公钥。</li>
<li>攻击者截获公钥，保留在自己手上。</li>
<li>然后攻击者自己生成一个【伪造的】公钥，发给客户端。</li>
<li>客户端收到伪造的公钥后，生成加密hash值发给服务器。</li>
<li>攻击者获得加密hash值，用自己的私钥解密获得真秘钥。</li>
<li>同时生成假的加密hash值，发给服务器。</li>
<li>服务器用私钥解密获得假秘钥。</li>
<li>服务器用加秘钥加密传输信息<br>防范方法：<br>服务端在发送浏览器的公钥中加入CA证书，浏览器可以验证CA证书的有效性</li>
</ol>
<h3 id="已知数据格式，实现一个函数-fn-找出链条中所有的父级-id"><a href="#已知数据格式，实现一个函数-fn-找出链条中所有的父级-id" class="headerlink" title="已知数据格式，实现一个函数 fn 找出链条中所有的父级 id"></a>已知数据格式，实现一个函数 fn 找出链条中所有的父级 id</h3><h3 id="给定两个大小为-m-和-n-的有序数组-nums1-和-nums2。请找出这两个有序数组的中位数。要求算法的时间复杂度为-O-log-m-n"><a href="#给定两个大小为-m-和-n-的有序数组-nums1-和-nums2。请找出这两个有序数组的中位数。要求算法的时间复杂度为-O-log-m-n" class="headerlink" title="给定两个大小为 m 和 n 的有序数组 nums1 和 nums2。请找出这两个有序数组的中位数。要求算法的时间复杂度为 O(log(m+n))"></a>给定两个大小为 m 和 n 的有序数组 nums1 和 nums2。请找出这两个有序数组的中位数。要求算法的时间复杂度为 O(log(m+n))</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">arr1, arr2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> arr = arr1.concat(arr2);</span><br><span class="line">  <span class="keyword">let</span> mid = <span class="built_in">Math</span>.floor(arr.length/<span class="number">2</span>);</span><br><span class="line">  arr = arr.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b)</span><br><span class="line">  <span class="keyword">if</span> (arr.length % <span class="number">2</span> === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arr, mid, <span class="string">'even'</span>)</span><br><span class="line">    <span class="keyword">return</span> (arr[mid - <span class="number">1</span>] + arr[mid]) / <span class="number">2</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arr, mid, <span class="string">'single'</span>)</span><br><span class="line">    <span class="keyword">return</span> arr[mid];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="vue-在-v-for-时给每项元素绑定事件需要用事件代理吗？为什么？"><a href="#vue-在-v-for-时给每项元素绑定事件需要用事件代理吗？为什么？" class="headerlink" title="vue 在 v-for 时给每项元素绑定事件需要用事件代理吗？为什么？"></a>vue 在 v-for 时给每项元素绑定事件需要用事件代理吗？为什么？</h3><p>首先我们需要知道事件代理主要有什么作用？</p>
<ol>
<li>事件代理能够避免我们逐个的去给元素新增和删除事件</li>
<li>事件代理比每一个元素都绑定一个事件性能要更好<br>从vue的角度上来看上面两点:</li>
<li>在v-for中，我们直接用一个for循环就能在模板中将每个元素都绑定上事件，并且当组件销毁时，vue也会自动给我们将所有的事件处理器都移除掉。所以事件代理能做到的第一点vue已经给我们做到了</li>
<li>在v-for中，给元素绑定的都是相同的事件，所以除非上千行的元素需要加上事件，其实和使用事件代理的性能差别不大，所以也没必要用事件代理</li>
</ol>
<h3 id="模拟实现一个深拷贝，并考虑对象相互引用以及-Symbol-拷贝的情况"><a href="#模拟实现一个深拷贝，并考虑对象相互引用以及-Symbol-拷贝的情况" class="headerlink" title="模拟实现一个深拷贝，并考虑对象相互引用以及 Symbol 拷贝的情况"></a>模拟实现一个深拷贝，并考虑对象相互引用以及 Symbol 拷贝的情况</h3><p>定制需求如下：<br>1、循环引用<br>2、Symbol 类型拷贝</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> deep<span class="constructor">Copy(<span class="params">obj</span>, <span class="params">map</span> = <span class="params">new</span> WeekMap()</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (obj<span class="operator"> === </span>null<span class="operator"> || </span>typeof obj !== 'object') return obj;</span><br><span class="line">  <span class="comment">// 循环引用</span></span><br><span class="line">  <span class="keyword">if</span> (map.has(obj)) return map.get(obj);</span><br><span class="line">  <span class="keyword">let</span> cobj = <span class="module-access"><span class="module"><span class="identifier">Array</span>.</span></span>is<span class="constructor">Array(<span class="params">obj</span>)</span> ? <span class="literal">[]</span> : &#123;&#125;;</span><br><span class="line">  map.set(obj, cobj);</span><br><span class="line">  <span class="comment">// 获取对象中所有属性名(包括Symbol)</span></span><br><span class="line">  <span class="keyword">let</span> keys = <span class="literal">[<span class="operator">...</span>O<span class="identifier">bject</span>.<span class="identifier">keys</span>(<span class="identifier">obj</span>), <span class="operator">...</span>O<span class="identifier">bject</span>.<span class="identifier">getOwnPropertySymbol</span>(<span class="identifier">obj</span>)]</span></span><br><span class="line">  <span class="keyword">let</span> len = keys.length;</span><br><span class="line">  <span class="keyword">while</span>(len--)&#123;</span><br><span class="line">    cobj<span class="literal">[<span class="identifier">keys</span>[<span class="identifier">len</span>]</span>] = deep<span class="constructor">Copy(<span class="params">obj</span>[<span class="params">keys</span>[<span class="params">len</span>]], <span class="params">map</span>)</span></span><br><span class="line">  &#125;</span><br><span class="line">  return cobj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="介绍下前端加密的常见场景和方法"><a href="#介绍下前端加密的常见场景和方法" class="headerlink" title="介绍下前端加密的常见场景和方法"></a>介绍下前端加密的常见场景和方法</h3><p>首先，加密的目的，简而言之就是将明文转换为密文、甚至转换为其他的东西，用来隐藏明文内容本身，防止其他人直接获取到敏感明文信息、或者提高其他人获取到明文信息的难度。<br>通常我们提到加密会想到密码加密、HTTPS 等关键词，这里从场景和方法分别提一些我的个人见解。</p>
<p>场景-密码传输<br>前端密码传输过程中如果不加密，在日志中就可以拿到用户的明文密码，对用户安全不太负责。<br>这种加密其实相对比较简单，可以使用 PlanA-前端加密、后端解密后计算密码字符串的MD5/MD6存入数据库；也可以 PlanB-直接前端使用一种稳定算法加密成唯一值、后端直接将加密结果进行MD5/MD6，全程密码明文不出现在程序中。</p>
<p>PlanA<br>使用 Base64 / Unicode+1 等方式加密成非明文，后端解开之后再存它的 MD5/MD6 。</p>
<p>PlanB<br>直接使用 MD5/MD6 之类的方式取 Hash ，让后端存 Hash 的 Hash 。</p>
<p>场景-数据包加密<br>应该大家有遇到过：打开一个正经网站，网站底下蹦出个不正经广告——比如X通的流量浮层，X信的插入式广告……（我没有针对谁）<br>但是这几年，我们会发现这种广告逐渐变少了，其原因就是大家都开始采用 HTTPS 了。<br>被人插入这种广告的方法其实很好理解：你的网页数据包被抓取-&gt;在数据包到达你手机之前被篡改-&gt;你得到了带网页广告的数据包-&gt;渲染到你手机屏幕。<br>而 HTTPS 进行了包加密，就解决了这个问题。严格来说我认为从手段上来看，它不算是一种前端加密场景；但是从解决问题的角度来看，这确实是前端需要知道的事情。</p>
<p>Plan<br>全面采用 HTTPS</p>
<p>场景-展示成果加密<br>经常有人开发网页爬虫爬取大家辛辛苦苦一点一点发布的数据成果，有些会影响你的竞争力，有些会降低你的知名度，甚至有些出于恶意爬取你的公开数据后进行全量公开……比如有些食谱网站被爬掉所有食谱，站点被克隆；有些求职网站被爬掉所有职位，被拿去卖信息；甚至有些小说漫画网站赖以生存的内容也很容易被爬取。</p>
<p>Plan<br>将文本内容进行展示层加密，利用字体的引用特点，把拿给爬虫的数据变成“乱码”。<br>举个栗子：正常来讲，当我们拥有一串数字“12345”并将其放在网站页面上的时候，其实网站页面上显示的并不是简单的数字，而是数字对应的字体的“12345”。这时我们打乱一下字体中图形和字码的对应关系，比如我们搞成这样：</p>
<p>图形：1 2 3 4 5<br>字码：2 3 1 5 4</p>
<p>这时，如果你想让用户看到“12345”，你在页面中渲染的数字就应该是“23154”。这种手段也可以算作一种加密。<br>具体的实现方法可以看一下《Web 端反爬虫技术方案》。</p>
<h3 id="React-和-Vue-的-diff-时间复杂度从-O-n-3-优化到-O-n-，那么-O-n-3-和-O-n-是如何计算出来的？"><a href="#React-和-Vue-的-diff-时间复杂度从-O-n-3-优化到-O-n-，那么-O-n-3-和-O-n-是如何计算出来的？" class="headerlink" title="React 和 Vue 的 diff 时间复杂度从 O(n^3) 优化到 O(n) ，那么 O(n^3) 和 O(n) 是如何计算出来的？"></a>React 和 Vue 的 diff 时间复杂度从 O(n^3) 优化到 O(n) ，那么 O(n^3) 和 O(n) 是如何计算出来的？</h3><h3 id="写出如下代码的打印结果"><a href="#写出如下代码的打印结果" class="headerlink" title="写出如下代码的打印结果"></a>写出如下代码的打印结果</h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> change<span class="constructor">ObjProperty(<span class="params">o</span>)</span> &#123;</span><br><span class="line">  o.siteUrl = <span class="string">"http://www.baidu.com"</span></span><br><span class="line">  o = <span class="keyword">new</span> <span class="constructor">Object()</span></span><br><span class="line">  o.siteUrl = <span class="string">"http://www.google.com"</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">let</span> webSite = <span class="keyword">new</span> <span class="constructor">Object()</span>;</span><br><span class="line">change<span class="constructor">ObjProperty(<span class="params">webSite</span>)</span>;</span><br><span class="line">console.log(webSite.siteUrl);</span><br><span class="line"><span class="comment">// http://www.baidu.com</span></span><br></pre></td></tr></table></figure>

<h3 id="编程算法题"><a href="#编程算法题" class="headerlink" title="编程算法题"></a>编程算法题</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">用 JavaScript 写一个函数，输入 <span class="built_in">int</span> 型，返回整数逆序后的字符串。如：输入整型 <span class="number">1234</span>，返回字符串“<span class="number">4321</span>”。要求必须使用递归函数调用，不能用全局变量，输入函数必须只有一个参数传入，必须返回字符串。</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> num1 = num / <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">let</span> num2 = num % <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">if</span> (num1 &lt; <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> num;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    num1 = <span class="built_in">Math</span>.floor(num1);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;num2&#125;</span><span class="subst">$&#123;fn(num1)&#125;</span>`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = fn(<span class="number">123456</span>);</span><br><span class="line"><span class="built_in">console</span>.log(a, <span class="keyword">typeof</span> a)</span><br></pre></td></tr></table></figure>

<h3 id="-2"><a href="#-2" class="headerlink" title=""></a></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    Foo.a = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.a = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">Foo.prototype.a = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;</span><br><span class="line">Foo.a = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">4</span>)</span><br><span class="line">&#125;</span><br><span class="line">Foo.a();</span><br><span class="line"><span class="keyword">let</span> obj = <span class="keyword">new</span> Foo();</span><br><span class="line">obj.a();</span><br><span class="line">Foo.a();</span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    Foo.a = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.a = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 以上只是 Foo 的构建方法，没有产生实例，此刻也没有执行</span></span><br><span class="line"></span><br><span class="line">Foo.prototype.a = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 现在在 Foo 上挂载了原型方法 a ，方法输出值为 3</span></span><br><span class="line"></span><br><span class="line">Foo.a = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">4</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 现在在 Foo 上挂载了直接方法 a ，输出值为 4</span></span><br><span class="line"></span><br><span class="line">Foo.a();</span><br><span class="line"><span class="comment">// 立刻执行了 Foo 上的 a 方法，也就是刚刚定义的，所以</span></span><br><span class="line"><span class="comment">// # 输出 4</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = <span class="keyword">new</span> Foo();</span><br><span class="line"><span class="comment">/* 这里调用了 Foo 的构建方法。Foo 的构建方法主要做了两件事：</span></span><br><span class="line"><span class="comment">1. 将全局的 Foo 上的直接方法 a 替换为一个输出 1 的方法。</span></span><br><span class="line"><span class="comment">2. 在新对象上挂载直接方法 a ，输出值为 2。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">obj.a();</span><br><span class="line"><span class="comment">// 因为有直接方法 a ，不需要去访问原型链，所以使用的是构建方法里所定义的 this.a，</span></span><br><span class="line"><span class="comment">// # 输出 2</span></span><br><span class="line"></span><br><span class="line">Foo.a();</span><br><span class="line"><span class="comment">// 构建方法里已经替换了全局 Foo 上的 a 方法，所以</span></span><br><span class="line"><span class="comment">// # 输出 1</span></span><br></pre></td></tr></table></figure>

<h3 id="Async-Await-如何通过同步的方式实现异步"><a href="#Async-Await-如何通过同步的方式实现异步" class="headerlink" title="Async/Await 如何通过同步的方式实现异步"></a>Async/Await 如何通过同步的方式实现异步</h3><p>Async/Await就是一个自执行的generate函数。利用generate函数的特性把异步的代码写成“同步”的形式</p>
<h3 id="修改以下-print-函数，使之输出-0-到-99，或者-99-到-0"><a href="#修改以下-print-函数，使之输出-0-到-99，或者-99-到-0" class="headerlink" title="修改以下 print 函数，使之输出 0 到 99，或者 99 到 0"></a>修改以下 print 函数，使之输出 0 到 99，或者 99 到 0</h3><p>要求：</p>
<ol>
<li>只能修改 setTimeout 到 Math.floor(Math.random() * 1000 的代码</li>
<li>不能修改 Math.floor(Math.random() * 1000</li>
<li>不能使用全局变量<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(n);</span><br><span class="line">  &#125;, <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">1000</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)&#123;</span><br><span class="line">  print(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
解法：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(n);</span><br><span class="line">  &#125;,<span class="number">1</span>, <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">1000</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)&#123;</span><br><span class="line">  print(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(n)</span><br><span class="line">    &#125;, n * <span class="number">1000</span>)</span><br><span class="line">  &#125;,<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">1000</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)&#123;</span><br><span class="line">  print(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">  setTimeout((<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(n)</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;</span><br><span class="line">  &#125;)(), <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">1000</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)&#123;</span><br><span class="line">  print(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="不用加减乘除运算符，求整数的7倍"><a href="#不用加减乘除运算符，求整数的7倍" class="headerlink" title="不用加减乘除运算符，求整数的7倍"></a>不用加减乘除运算符，求整数的7倍</h3><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function fn(m) &#123;</span><br><span class="line">  <span class="keyword">let</span> arr = <span class="literal">new</span> <span class="built_in">Array</span>(m);</span><br><span class="line">  <span class="keyword">return</span> <span class="meta">[</span><span class="params">...</span>arr, <span class="params">...</span>arr, <span class="params">...</span>arr, <span class="params">...</span>arr, <span class="params">...</span>arr, <span class="params">...</span>arr, <span class="params">...</span>arr<span class="meta">]</span>.length</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="考虑到性能问题，如何快速从一个巨大的数组中随机获取部分元素"><a href="#考虑到性能问题，如何快速从一个巨大的数组中随机获取部分元素" class="headerlink" title="考虑到性能问题，如何快速从一个巨大的数组中随机获取部分元素"></a>考虑到性能问题，如何快速从一个巨大的数组中随机获取部分元素</h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> fn(m, n) &#123;</span><br><span class="line">  <span class="keyword">let</span> arr = <span class="module-access"><span class="module"><span class="identifier">Array</span>.</span></span>from(&#123;length: m&#125;,<span class="function"> (<span class="params">item</span>, <span class="params">key</span>) =&gt;</span> key + <span class="number">1</span>)</span><br><span class="line">  <span class="keyword">let</span> result = <span class="keyword">new</span> <span class="constructor">Set()</span>;</span><br><span class="line">  for (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> luckDog = <span class="module-access"><span class="module"><span class="identifier">Math</span>.</span></span>floor(<span class="module-access"><span class="module"><span class="identifier">Math</span>.</span></span>random<span class="literal">()</span>*m);</span><br><span class="line">    <span class="keyword">if</span> (!result.has(arr<span class="literal">[<span class="identifier">luckDog</span>]</span>)) &#123;</span><br><span class="line">      result.add(arr<span class="literal">[<span class="identifier">luckDog</span>]</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      i--;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>由于随机从100K个数据中随机选取10k个数据，可采用统计学中随机采样点的选取进行随机选取，如在0-50之间生成五个随机数，然后依次将每个随机数进行加50进行取值，性能应该是最好的。</p>
<h3 id="编程题，请写一个函数，完成以下功能"><a href="#编程题，请写一个函数，完成以下功能" class="headerlink" title="编程题，请写一个函数，完成以下功能"></a>编程题，请写一个函数，完成以下功能</h3><p>输入： [1,2,3,5,7,8,10]<br>输出：1<del>3,5,7</del>8,10<br>如果连续数字的话，就取连续的第一个数和最后一个数，中间用~隔开。如果不连续就用，隔开。</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">const nums1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">10</span>];</span><br><span class="line"><span class="keyword">function</span> simplifyStr(num) &#123;</span><br><span class="line">  var result = [];</span><br><span class="line">  var <span class="keyword">temp</span> = num[<span class="number">0</span>]</span><br><span class="line">  num.<span class="keyword">forEach</span>((<span class="keyword">value</span>, <span class="keyword">index</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">value</span> + <span class="number">1</span> !== num[<span class="keyword">index</span> + <span class="number">1</span>]) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">temp</span> !== <span class="keyword">value</span>) &#123;</span><br><span class="line">        result.push(`$&#123;<span class="keyword">temp</span>&#125;~$&#123;<span class="keyword">value</span>&#125;`)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        result.push(`$&#123;<span class="keyword">value</span>&#125;`)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">temp</span> = num[<span class="keyword">index</span> + <span class="number">1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line">console.log(simplifyStr(nums1).<span class="keyword">join</span>(<span class="string">','</span>))</span><br></pre></td></tr></table></figure>


    </div>
  </div>
  
    <div class="copy-right">
      <div class="markdown-body">
        <blockquote>
        
        
          本文作者 : 勤富人 <br/>
        
        原文链接 : <a href="">https://userlvqingke.github.io/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98/</a><br>
        版权声明 : 本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明出处！
        </blockquote>
      </div>
    </div>
  
  
  
    <div class="social-share"
  style="margin-top: -2rem"
  data-wechat-qrcode-title="<p>微信扫一扫</p>"
  data-wechat-qrcode-helper="<p>微信右上角, 扫一扫分享</p>"
   data-sites="qzone, qq, weibo, wechat, douban, google, facebook, twitter" 
  
>
  <span style="color: #6b7487; font-size: 1.4rem;">分享到: </span>
</div>
<script src="https://cdn.bootcss.com/social-share.js/1.0.16/js/social-share.min.js" async>
  
 
  
    <div id="reward">
  
    <p id="reward-meta">知识 & 情怀 | 二者兼得</p>
  
  <button id="reward-btn">
    
    <span>投食</span>
  </button>
  <div id="reward-qrcode">
    
      <div class="reward-qrcode--container">
        <img class="qrcode-img" src="/images/wechat.jpg" alt="微信扫一扫, 向我投食">
        <p class="qrcode-meta">微信扫一扫, 向我投食</p>
      </div>
    
      <div class="reward-qrcode--container">
        <img class="qrcode-img" src="/images/alipay.jpg" alt="支付宝扫一扫, 向我投食">
        <p class="qrcode-meta">支付宝扫一扫, 向我投食</p>
      </div>
    
  </div>

</div>

<script>
  (() => {
    let button = document.querySelector('#reward-btn'),
      qrcode = document.querySelector('#reward-qrcode'),
      display = false;
    
    button.addEventListener('click', () => {
      qrcode.style.display = display ? 'none' : 'block'
      display = !display
    }, false)
  })()
</script>
  
  
  
    <div id="reward">
  
    <p id="reward-meta">知识 & 情怀 | 二者兼得</p>
  
  <button id="reward-btn">
    
    <span>投食</span>
  </button>
  <div id="reward-qrcode">
    
      <div class="reward-qrcode--container">
        <img class="qrcode-img" src="/images/wechat.jpg" alt="微信扫一扫, 向我投食">
        <p class="qrcode-meta">微信扫一扫, 向我投食</p>
      </div>
    
      <div class="reward-qrcode--container">
        <img class="qrcode-img" src="/images/alipay.jpg" alt="支付宝扫一扫, 向我投食">
        <p class="qrcode-meta">支付宝扫一扫, 向我投食</p>
      </div>
    
  </div>

</div>

<script>
  (() => {
    let button = document.querySelector('#reward-btn'),
      qrcode = document.querySelector('#reward-qrcode'),
      display = false;
    
    button.addEventListener('click', () => {
      qrcode.style.display = display ? 'none' : 'block'
      display = !display
    }, false)
  })()
</script>
  
  <div class="article-footer">
    <div class="article-meta pull-left">
      <span>
        
          <i class="iconfont icon-06tags"></i>标签: 
          
          <span class="span--tag">
            <a href="/tags/%E5%89%8D%E7%AB%AF/">
              #前端
            </a>
          </span>
          
          <span class="span--tag">
            <a href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/">
              #面试题
            </a>
          </span>
          
        
      </span>
    </div>
    <div class="article-meta pull-right">
    </div>
  </div>
</div>


  <aside id="sidebar">
    <p id="sidebar-header"></p>
    <ol id="sidebar-toc"></ol>
  </aside>
  <script async>setTimeout(generateToc, 10);</script>


  <nav class="post-navigation">
    
      <div class="nav-pre">
        <i class="iconfont icon-prev"></i>
        上一篇:
        <a href="/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%85%A8%E4%BB%8B%E7%BB%8D/" target="_self">微信小程序全介绍</a>
      </div>
    
    
      <div class="nav-next">
        下一篇:
        <a href="/%E5%B7%A5%E4%BD%9C%E6%97%A5%E6%AF%8F%E5%A4%A9%E4%B8%80%E9%81%93%E5%A4%A7%E5%8E%82%E9%9D%A2%E8%AF%95%E9%A2%98/" target="_self">工作日每天一道大厂面试题</a>
        <i class="iconfont icon-next"></i>
      </div>
    
  </nav>

  
    <a href="#comment" class="comment-anchor"></a>
<div class="comment-title"><i class="iconfont icon-footprint"></i> 留下足迹 <i class="iconfont icon-footprint"></i></div>
<div id="vcomments"></div>

<script defer>
  if( true ) {
    let path = getRealPath()
    new Valine({
      el: "#vcomments",
      appId: "Hyq9wkH495DgNHWhDQCOfQSp-gzGzoHsz",
      appKey: "WaR7nrzhliHj9aVwdQzkdlGd",
      notify: false,
      verify: false,
      avatar: "robohash",
      placeholder: "正确填写邮箱, 才能及时收到回复哦♪(^∇^*)",
      path
    });
  }
</script>
   

  
    <script defer>
const valineAPI = (() => {
  try {
    AV.init("Hyq9wkH495DgNHWhDQCOfQSp-gzGzoHsz", "WaR7nrzhliHj9aVwdQzkdlGd");
  } catch(error) {}
  const isExist = (identity) => {
    identity = identity || getRealPath();
    let query = new AV.Query('Timer');
    return new Promise((resolve, reject) => {
      query.equalTo("identity", identity);
      query.find().then(results => {
        resolve(results.length > 0);
      }, error => reject(error));
    })
  }

  const _get = (identity) => {
    let query = null;
    if(identity && identity instanceof Array){
      let querys = [];
      for(let i = 0; i < identity.length; ++i) {
        querys[i] = new AV.Query('Timer');
        querys[i].equalTo('identity', identity[i]);
      }
      query = AV.Query.or.apply(null ,querys);
    } else {
      identity = identity || getRealPath();
      query = new AV.Query("Timer");
      query.equalTo("identity", identity);
    }

    return new Promise((resolve, reject) => {
      query.find()
      .then(results => resolve(results))
      .catch(error => reject(error))
    })
  }

  const create = (identity) => {
    identity = identity || getRealPath();
    return new Promise((resolve, reject) => {
      let Todo = AV.Object.extend('Timer');
      let todo = new Todo();
      todo.set("times", 1);
      todo.set("identity", identity);
      todo.save().then(res => resolve(true), error => reject(error));
    })
  }

  const update = (identity) => {
    identity = identity || getRealPath();
    return new Promise((resolve, reject) => {
      let query = new AV.Query('Timer');
      query.equalTo("identity", identity);
      query.find().then(todos => {
        todos.forEach(todo => {
          todo.set("times", todo.attributes.times + 1);
        });
        return AV.Object.saveAll(todos);
      }).then(todos => resolve(true), error => reject(error));
    })
  }

  return {
    isExist,
    _get,
    update,
    create
  }
})()

const calcAndWriteTimes = () => {
  let isPost = true;

  let timerAllDOM = document.querySelectorAll(".article-timer");

  if(isPost) {
    let identity = timerAllDOM[0].getAttribute("data-identity");
    valineAPI.isExist(identity)
    .then(exist => {
      if(exist) {
        return valineAPI.update(identity);
      }
      return new Promise(resolve => resolve(true));
    })
    .then( succuess => valineAPI._get(identity))
    .then( result => timerAllDOM[0].innerText = result[0].attributes.times)
    .catch(error => console.log(error.message))
    return ;
  }

  let timerDOMCache = {};

  for(let timerDOM of timerAllDOM) {
    let identity = timerDOM.getAttribute("data-identity");
    if(timerDOMCache.hasOwnProperty(identity)){
      timerDOMCache[identity].dom.push(timerDOM);
    }else{
      timerDOMCache[identity] = {
        dom: [timerDOM],
        times: undefined
      };
    }
  }

  let identities = Object.keys(timerDOMCache);
  valineAPI._get(identities).then(results => {
    for(let result of results) {
      let {identity, times} = result.attributes;
      timerDOMCache[identity].times = times;
      timerDOMCache[identity].dom.map(item => item.innerText = times);
    }
    for(let identity of identities) {
      if(timerDOMCache[identity].times){
        continue;
      }
      timerDOMCache[identity].dom.map(item => item.innerText = 1);
      valineAPI.create(identity);
    }
  }).catch(error => console.log(error.message))
}

if(true){
  calcAndWriteTimes();
}
</script>
   

</div>


      <footer>
  <p class="site-info">
    博客已萌萌哒运行<span id="time-to-now"></span><span class="my-face">(●'◡'●)ﾉ♥</span>
    <br>
    Theme - <a href="https://github.com/dongyuanxin/theme-bmw" target="_blank" rel="noopener">BMW</a> | Made With 💗 | Powered by <a href="https://godbmw.com/" target="_blank" rel="noopener">GodBMW</a>
    <br>
    
  </p>
</footer>



<script>
const timeToNowDOM = document.querySelector("#time-to-now");
const startTimestamp = new Date(2018, 1, 10).getTime();

const updateTimeStr = () => {
  let offset = parseInt(
      (new Date().getTime() - startTimestamp) / 1000,
      10
    ),
    day = Math.floor(offset / 86400),
    hour = Math.floor((offset % 86400) / 3600),
    minute = Math.floor(((offset % 86400) % 3600) / 60),
    second = Math.floor(((offset % 86400) % 3600) % 60);
  timeToNowDOM.innerHTML =
    day + "天" + hour + "小时" + minute + "分钟" + second + "秒";
  setTimeout(updateTimeStr, 500);
}

setTimeout(updateTimeStr, 500);
</script>


      <div class="back-to-top hidden">
  <span>
    <i class="iconfont icon-60"></i><span></span>%
  </span>
</div>

<script>
const updateIconToTop = percent => {
  let dom = document.querySelector(".back-to-top span span");
  let processBarEl = document.querySelector('.processBar');
  dom.innerText = percent;
  processBarEl.style.width = `${percent}%`;
  if(percent < 1) {
    document.querySelector(".back-to-top").className = "back-to-top hidden";
  } else {
    document.querySelector(".back-to-top").className = "back-to-top";
  }
}

const handleScoll = () => {
  let isRunning = false;
  return () => {
    if (isRunning) return;
    isRunning = true;
    window.requestAnimationFrame(timestamp => {
      let scrollTop =
          document.documentElement.scrollTop || document.body.scrollTop,
        scrollHeight =
          document.documentElement.scrollHeight ||
          document.body.scrollHeight,
        clientHeight =
          document.documentElement.clientHeight ||
          document.body.clientHeight;
      isRunning = false;
      if (scrollTop <= 1) {
        updateIconToTop(0);
        return;
      }
      if (scrollTop + clientHeight >= scrollHeight) {
        updateIconToTop(100);
      } else {
        updateIconToTop(parseInt(
          100 * scrollTop / (scrollHeight - clientHeight),
          10
        ));
      }
    });
  };
}

const backToTop = () => {
  let scrollTop =
      document.documentElement.scrollTop || document.body.scrollTop,
    delay = 10,
    time = 200;
  if (scrollTop <= 20) {
    document.documentElement.scrollTop = 0;
    document.body.scrollTop = 0;
    return;
  }
  let step = Math.ceil(scrollTop * delay / time);
  let timer = setInterval(() => {
    scrollTop =
      document.documentElement.scrollTop || document.body.scrollTop;
    if (scrollTop - step <= 0) {
      document.documentElement.scrollTop = 0;
      document.body.scrollTop = 0;
      clearInterval(timer);
    } else {
      document.documentElement.scrollTop = scrollTop - step;
      document.body.scrollTop = scrollTop - step;
    }
  }, delay);
}

document.addEventListener("scroll", handleScoll(), false);

document.querySelector(".back-to-top").addEventListener("click", backToTop, false);

</script>

    </div>

    
      <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
<script>
  (() => {
    const mathjaxConfig = {
      showProcessingMessages: false, //关闭js加载过程信息
      messageStyle: "none", //不显示信息
      jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
        inlineMath: [["$", "$"], ["\\(", "\\)"]], //行内公式选择符
        displayMath: [["$$", "$$"], ["\\[", "\\]"]], //段内公式选择符
        skipTags: ["script", "noscript", "style", "textarea", "pre", "code", "a"] //避开某些标签
      },
      "HTML-CSS": {
        availableFonts: ["STIX", "TeX"], //可选字体
        showMathMenu: false //关闭右击菜单显示
      }
    }

    let mathjaxInterval = setInterval(() => {
      if(!window.MathJax){
        return;
      }
      window.MathJax.Hub.Config(mathjaxConfig)
      window.MathJax.Hub.Queue(["Typeset", MathJax.Hub, document.getElementById('app')])

      clearInterval(mathjaxInterval)
    }, 10)    
  })()
</script>
    

    <script src="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.js" async></script>
<script async>
  let fancyTimer = setInterval(function(){
    if(!window.$){
      return;
    }
    $(document).ready(function() {
      $(".post img").each(function () {
        if($(this).parent().get(0).tagName.toLowerCase() === "a") {
          return;
        }
        // $(this).attr("data-fancybox", "gallery"); // if you add 'data-fancybox', img will display after showed
        var element = document.createElement("a");
        $(element).attr("data-fancybox", "gallery");
        $(element).attr("href", $(this).attr("src"));
        $(this).wrap(element);
      });
      
      clearInterval(fancyTimer);
    });
  }, 10);
</script>

    
  </body>

</html>
